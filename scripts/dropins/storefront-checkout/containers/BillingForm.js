import*as t from"@dropins/elsie/event-bus.js";import*as e from"@dropins/elsie/fetch-graphql.js";import*as i from"@dropins/elsie/preact-compat.js";import*as r from"@dropins/elsie/preact-hooks.js";import*as n from"@dropins/elsie/preact-jsx-runtime.js";import*as o from"@dropins/elsie/preact.js";export const id=908;export const ids=[908,581];export const modules={6364:(t,e,i)=>{i.d(e,{td:()=>p});var r=i(3474),n=i(5437);function o(){throw new Error("Cycle detected")}function s(){if(d>1)d--;else{for(var t,e=!1;void 0!==f;){var i=f;for(f=void 0,v++;void 0!==i;){var r=i.o;if(i.o=void 0,i.f&=-3,!(8&i.f)&&m(i))try{i.c()}catch(i){e||(t=i,e=!0)}i=r}}if(v=0,d--,e)throw t}}var a,u=void 0,f=void 0,d=0,v=0,l=0;function c(t){if(void 0!==u){var e=t.n;if(void 0===e||e.t!==u)return e={i:0,S:t,p:u.s,n:void 0,t:u,e:void 0,x:void 0,r:e},void 0!==u.s&&(u.s.n=e),u.s=e,t.n=e,32&u.f&&t.S(e),e;if(-1===e.i)return e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=u.s,e.n=void 0,u.s.n=e,u.s=e),e}}function h(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function p(t){return new h(t)}function m(t){for(var e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function y(t){for(var e=t.s;void 0!==e;e=e.n){var i=e.S.n;if(void 0!==i&&(e.r=i),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function _(t){for(var e=t.s,i=void 0;void 0!==e;){var r=e.p;-1===e.i?(e.S.U(e),void 0!==r&&(r.n=e.n),void 0!==e.n&&(e.n.p=r)):i=e,e.S.n=e.r,void 0!==e.r&&(e.r=void 0),e=r}t.s=i}function g(t){h.call(this,void 0),this.x=t,this.s=void 0,this.g=l-1,this.f=4}function b(t){var e=t.u;if(t.u=void 0,"function"==typeof e){d++;var i=u;u=void 0;try{e()}catch(e){throw t.f&=-2,t.f|=8,x(t),e}finally{u=i,s()}}}function x(t){for(var e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,b(t)}function S(t){if(u!==this)throw new Error("Out-of-order effect");_(this),u=t,this.f&=-2,8&this.f&&x(this),s()}function C(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function j(t){var e=new C(t);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}function w(t,e){r.options[t]=e.bind(null,r.options[t]||function(){})}function E(t){a&&a(),a=t&&t.S()}function k(t){var e=this,i=t.data,o=function(t){return(0,n.useMemo)((function(){return p(t)}),[])}(i);o.value=i;var s=(0,n.useMemo)((function(){for(var t=e.__v;t=t.__;)if(t.__c){t.__c.__$f|=4;break}return e.__$u.c=function(){var t;(0,r.isValidElement)(s.peek())||3!==(null==(t=e.base)?void 0:t.nodeType)?(e.__$f|=1,e.setState({})):e.base.data=s.peek()},new g((function(){var t=o.value.value;return 0===t?0:!0===t?"":t||""}))}),[]);return s.value}function A(t,e,i,r){var n=e in t&&void 0===t.ownerSVGElement,o=p(i);return{o:function(t,e){o.value=t,r=e},d:j((function(){var i=o.value.value;r[e]!==i&&(r[e]=i,n?t[e]=i:i?t.setAttribute(e,i):t.removeAttribute(e))}))}}h.prototype.h=function(){return!0},h.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},h.prototype.U=function(t){if(void 0!==this.t){var e=t.e,i=t.x;void 0!==e&&(e.x=i,t.e=void 0),void 0!==i&&(i.e=e,t.x=void 0),t===this.t&&(this.t=i)}},h.prototype.subscribe=function(t){var e=this;return j((function(){var i=e.value,r=32&this.f;this.f&=-33;try{t(i)}finally{this.f|=r}}))},h.prototype.valueOf=function(){return this.value},h.prototype.toString=function(){return this.value+""},h.prototype.toJSON=function(){return this.value},h.prototype.peek=function(){return this.v},Object.defineProperty(h.prototype,"value",{get:function(){var t=c(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(u instanceof g&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){v>100&&o(),this.v=t,this.i++,l++,d++;try{for(var e=this.t;void 0!==e;e=e.x)e.t.N()}finally{s()}}}}),(g.prototype=new h).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===l)return!0;if(this.g=l,this.f|=1,this.i>0&&!m(this))return this.f&=-2,!0;var t=u;try{y(this),u=this;var e=this.x();(16&this.f||this.v!==e||0===this.i)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return u=t,_(this),this.f&=-2,!0},g.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var e=this.s;void 0!==e;e=e.n)e.S.S(e)}h.prototype.S.call(this,t)},g.prototype.U=function(t){if(void 0!==this.t&&(h.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var e=this.s;void 0!==e;e=e.n)e.S.U(e)}},g.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},g.prototype.peek=function(){if(this.h()||o(),16&this.f)throw this.v;return this.v},Object.defineProperty(g.prototype,"value",{get:function(){1&this.f&&o();var t=c(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),C.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var e=this.x();"function"==typeof e&&(this.u=e)}finally{t()}},C.prototype.S=function(){1&this.f&&o(),this.f|=1,this.f&=-9,b(this),y(this),d++;var t=u;return u=this,S.bind(this,t)},C.prototype.N=function(){2&this.f||(this.f|=2,this.o=f,f=this)},C.prototype.d=function(){this.f|=8,1&this.f||x(this)},k.displayName="_st",Object.defineProperties(h.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:k},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),w("__b",(function(t,e){if("string"==typeof e.type){var i,r=e.props;for(var n in r)if("children"!==n){var o=r[n];o instanceof h&&(i||(e.__np=i={}),i[n]=o,r[n]=o.peek())}}t(e)})),w("__r",(function(t,e){E();var i,r=e.__c;r&&(r.__$f&=-2,void 0===(i=r.__$u)&&(r.__$u=i=function(t){var e;return j((function(){e=this})),e.c=function(){r.__$f|=1,r.setState({})},e}())),E(i),t(e)})),w("__e",(function(t,e,i,r){E(),t(e,i,r)})),w("diffed",(function(t,e){var i;if(E(),"string"==typeof e.type&&(i=e.__e)){var r=e.__np,n=e.props;if(r){var o=i.U;if(o)for(var s in o){var a=o[s];void 0===a||s in r||(a.d(),o[s]=void 0)}else i.U=o={};for(var u in r){var f=o[u],d=r[u];void 0===f?(f=A(i,u,d,n),o[u]=f):f.o(d,n)}}}t(e)})),w("unmount",(function(t,e){if("string"==typeof e.type){var i=e.__e;if(i){var r=i.U;if(r)for(var n in i.U=void 0,r){var o=r[n];o&&o.d()}}}else{var s=e.__c;if(s){var a=s.__$u;a&&(s.__$u=void 0,a.d())}}t(e)})),w("__h",(function(t,e,i,r){(r<3||9===r)&&(e.__$f|=2),t(e,i,r)})),r.Component.prototype.shouldComponentUpdate=function(t,e){var i=this.__$u;if(!(i&&void 0!==i.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var r in e)return!0;for(var n in t)if("__source"!==n&&t[n]!==this.props[n])return!0;for(var o in this.props)if(!(o in t))return!0;return!1}},3483:(t,e,i)=>{i.d(e,{X:()=>_});var r=i(1892),n=i.n(r),o=i(5760),s=i.n(o),a=i(8311),u=i.n(a),f=i(8192),d=i.n(f),v=i(8060),l=i.n(v),c=i(4865),h=i.n(c),p=i(8695),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=u().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=l(),n()(p.Z,m),p.Z&&p.Z.locals&&p.Z.locals;var y=i(7188),_=function(t){var e=t.className,i=t.children,r=t.level,n=void 0===r?2:r,o=n>=1&&n<=6?"h".concat(n):"h2";return(0,y.jsx)(o,{className:e,children:i})}},7238:(t,e,i)=>{i.d(e,{U:()=>r});var r="billing_address"},3581:(t,e,i)=>{i.r(e),i.d(e,{BILLING_FORM_NAME:()=>f.U,BillingForm:()=>v,default:()=>v});var r=i(4853),n=i(4731),o=i(845),s=i(1468),a=i(8393),u=i(925),f=i(7238),d=i(7188),v=function(){var t=(0,a.M)().state.isBillToShipping,e=(0,r.useRef)(null),i=!t.value,v=(0,r.useCallback)((function(e){return(0,o.w)({address:t.value?void 0:(0,s.vY)(e),same_as_shipping:t.value})}),[t.value]),l=(0,r.useCallback)((function(t){var e;return!(0,u.I)(null==t||null===(e=t.shipping_addresses)||void 0===e?void 0:e[0],null==t?void 0:t.billing_address)}),[]);return(0,r.useEffect)((function(){!1===t.value&&e.current.triggerSaveAddress()}),[t.value]),(0,d.jsx)(n.k,{ref:e,name:f.U,addressType:"billing_address",headingId:"Checkout.BillingAddress.title",saveAddressHandler:v,shouldAutoFillForm:l,style:{display:i?"block":"none"},"data-testid":"billing-form"})}},8393:(t,e,i)=>{i.d(e,{M:()=>f,o:()=>u});var r=i(6364),n=i(3474),o=i(5437),s=i(7188),a=(0,n.createContext)(void 0);function u(t){var e,i,n=t.initialState,o=t.children,u={isBillToShipping:(0,r.td)(null===(e=null==n?void 0:n.isBillToShipping)||void 0===e||e),serverError:(0,r.td)(null!==(i=null==n?void 0:n.serverError)&&void 0!==i?i:"")};return(0,s.jsx)(a.Provider,{value:{state:u},children:o})}function f(){var t=(0,o.useContext)(a);if(void 0===t)throw new Error("useCheckout must be used within a CheckoutProvider");return t}},3177:(t,e,i)=>{i.d(e,{t:()=>s});var r=i(6765),n=i(5437);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function s(){var t,e,i=(t=(0,n.useState)(),e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,n,o,s,a=[],u=!0,f=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;u=!1}else for(;!(u=(r=o.call(i)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){f=!0,n=t}finally{try{if(!u&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(f)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],a=i[1];return(0,n.useEffect)((function(){var t=r.events.on("checkout/data",(function(t){t&&a(t)}),{eager:!0});return function(){null==t||t.off()}}),[]),s}},8695:(t,e,i)=>{i.d(e,{Z:()=>a});var r=i(4933),n=i.n(r),o=i(3476),s=i.n(o)()(n());s.push([t.id,"/* https://cssguidelin.es/#bem-like-naming */\n\n/* .elsie-heading { } */\n\n/* Extra small devices (phones, 600px and down) */\n/* @media only screen and (max-width: 600px) { } */\n\n/* Small devices (portrait tablets and large phones, 600px and up) */\n/* @media only screen and (min-width: 600px) { } */\n\n/* Medium devices (landscape tablets, 768px and up) */\n/* @media only screen and (min-width: 768px) { } */\n\n/* Large devices (laptops/desktops, 992px and up) */\n/* @media only screen and (min-width: 992px) { } */\n\n/* Extra large devices (large laptops and desktops, 1200px and up) */\n/* @media only screen and (min-width: 1200px) { } */\n",""]);const a=s},6765:(e,i,r)=>{var n,o;e.exports=(n={events:()=>t.events},o={},r.d(o,n),o)},9699:(t,i,r)=>{var n,o;t.exports=(n={FetchGraphQL:()=>e.FetchGraphQL},o={},r.d(o,n),o)},4853:(t,e,r)=>{var n,o;t.exports=(n={Suspense:()=>i.Suspense,forwardRef:()=>i.forwardRef,lazy:()=>i.lazy,useCallback:()=>i.useCallback,useEffect:()=>i.useEffect,useImperativeHandle:()=>i.useImperativeHandle,useMemo:()=>i.useMemo,useRef:()=>i.useRef,useState:()=>i.useState},o={},r.d(o,n),o)},5437:(t,e,i)=>{var n,o;t.exports=(n={useCallback:()=>r.useCallback,useContext:()=>r.useContext,useDebugValue:()=>r.useDebugValue,useEffect:()=>r.useEffect,useId:()=>r.useId,useImperativeHandle:()=>r.useImperativeHandle,useLayoutEffect:()=>r.useLayoutEffect,useMemo:()=>r.useMemo,useReducer:()=>r.useReducer,useRef:()=>r.useRef,useState:()=>r.useState},o={},i.d(o,n),o)},4142:(t,e,i)=>{var r,o;t.exports=(r={Fragment:()=>n.Fragment,jsx:()=>n.jsx,jsxs:()=>n.jsxs},o={},i.d(o,r),o)},3474:(t,e,i)=>{var r,n;t.exports=(r={Component:()=>o.Component,Fragment:()=>o.Fragment,cloneElement:()=>o.cloneElement,createContext:()=>o.createContext,createElement:()=>o.createElement,createRef:()=>o.createRef,h:()=>o.h,hydrate:()=>o.hydrate,isValidElement:()=>o.isValidElement,options:()=>o.options,render:()=>o.render,toChildArray:()=>o.toChildArray},n={},i.d(n,r),n)}};import s from"../runtime.js";import*as a from"../757.js";s.C(a);import*as u from"../516.js";s.C(u);import*as f from"../213.js";s.C(f);import*as d from"../693.js";s.C(d);import*as v from"../261.js";s.C(v);import*as l from"../853.js";s.C(l);import*as c from"../63.js";s.C(c);import*as h from"../731.js";s.C(h);import*as p from"../925.js";s.C(p);import*as m from"./BillingForm.js";s.C(m);var y=(3581,s(s.s=3581)),_=y.BILLING_FORM_NAME,g=y.BillingForm,b=y.default;export{_ as BILLING_FORM_NAME,g as BillingForm,b as default};