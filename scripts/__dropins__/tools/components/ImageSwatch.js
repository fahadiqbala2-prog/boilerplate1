import"../preact-compat.js";import{c as e}from"../chunks/classes__DJBjVfEyCI.js";import"../chunks/image-params-keymap__LH6wjfp1fd.js";import"../preact.js";import{jsx as t}from"../preact-jsx-runtime.js";import{Image as C}from"./Image.js";import{useText as m}from"../i18n.js";import{useCallback as I}from"../preact-hooks.js";const q=({className:s,name:d,value:f,id:w,label:n,groupAriaLabel:c,src:u,alt:b,disabled:p=!1,selected:o=!1,outOfStock:h=!1,multi:g=!1,onValue:i,onUpdateError:r,...$})=>{const _=m("Dropin.Swatches.outOfStock.label").label,y=m("Dropin.Swatches.selected.label").label,k=m("Dropin.Swatches.swatch.label").label,x=I(async a=>{if(i)try{await i(a)}catch(l){r&&r(l)}},[i,r]),S=a=>{const l=a.target;x(l.value)},D=()=>h?`${c}: ${n} ${_}`:o?`${c}: ${n} ${y}`:`${c}: ${n} ${k}`;return t("label",{className:e(["dropin-image-swatch__container",s]),children:[t("input",{type:g?"checkbox":"radio",name:d,id:w,value:f,"aria-label":D(),checked:o,disabled:p,onChange:S,...$,className:e(["dropin-image-swatch",["dropin-image-swatch--selected",o],["dropin-image-swatch--disabled",p],s])}),t("span",{className:e(["dropin-image-swatch__span",["dropin-image-swatch__span--out-of-stock",h],s]),children:t(C,{src:u,className:e(["dropin-image-swatch__content"]),params:{width:100,fit:"bounds",crop:!0},alt:b,loading:"lazy",onError:a=>a.target.style.display="none"})})]})};export{q as ImageSwatch,q as default};
//# sourceMappingURL=ImageSwatch.js.map
