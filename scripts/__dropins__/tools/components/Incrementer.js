import{useState as I,useEffect as V,useCallback as g}from"../preact-hooks.js";import{c as i}from"../chunks/classes__DJBjVfEyCI.js";import"../chunks/image-params-keymap__DhvefBR8Rn.js";import{d as L}from"../chunks/debounce__BF4Cdv7Ils.js";import"../preact.js";import{jsx as e}from"../preact-jsx-runtime.js";import S from"../chunks/Add__CiEO_sX7HP.js";import"../preact-compat.js";import z from"../chunks/Minus__CefO5Dkv_0.js";import{Icon as f}from"./Icon.js";import{Localizer as N,Text as h}from"../i18n.js";import"../chunks/preload-helper__uemlvruIqb.js";const J=({name:v,value:o="1",className:w,disabled:r,error:x,success:k,min:u,max:l,onValue:m,onUpdateError:a,size:_="medium",...y})=>{const[c,b]=I(Number(o)),s=Number(u),d=Number(l);V(()=>{b(Number(o))},[o]);const C=g(L(async t=>{if(m)try{await m(t)}catch(n){a&&a(n)}},200),[m,a]),p=t=>{let n=t;t<s&&(n=s),t>d&&(n=d),C(n),b(n)};return e("div",{className:i(["dropin-incrementer",`dropin-incrementer--${_}`,w]),children:e("div",{className:i(["dropin-incrementer__content",`dropin-incrementer__content--${_}`,["dropin-incrementer__content--error",x],["dropin-incrementer__content--success",k],["dropin-incrementer__content--disabled",r]]),children:[e("div",{className:i(["dropin-incrementer__button-container",["dropin-incrementer__button-container--disabled",r]]),children:e(N,{children:e("button",{type:"button",className:i(["dropin-incrementer__decrease-button",["dropin-incrementer__decrease-button--disabled",r]]),onClick:()=>p(c-1),disabled:r||c<s+1,"aria-label":e(h,{id:"Dropin.Incrementer.decreaseLabel"}),children:e(f,{source:z,size:"16",stroke:"1",viewBox:"4 2 20 20",className:"dropin-incrementer__down"})})})}),e("input",{className:"dropin-incrementer__input",max:l,min:u,step:1,type:"number",name:v,value:c,disabled:r,onChange:t=>{const n=t.currentTarget.value;n!==""&&p(Number(n))},...y}),e("div",{className:i(["dropin-incrementer__button-container",["dropin-incrementer__button-container--disabled",r]]),children:e(N,{children:e("button",{type:"button",className:i(["dropin-incrementer__increase-button",["dropin-incrementer__increase-button--disabled",r]]),onClick:()=>p(c+1),disabled:r||c>d-1,"aria-label":e(h,{id:"Dropin.Incrementer.increaseLabel"}),children:e(f,{source:S,size:"16",stroke:"1",viewBox:"4 2 20 20",className:"dropin-incrementer__add"})})})})]})})};export{J as Incrementer};
//# sourceMappingURL=Incrementer.js.map
