import"../preact-compat.js";import{c as t}from"../chunks/classes__DJBjVfEyCI.js";import"../chunks/image-params-keymap__LH6wjfp1fd.js";import{Fragment as P}from"../preact.js";import{jsx as e}from"../preact-jsx-runtime.js";import{V as r}from"../chunks/vcomponent__BjnR-FRhjl.js";import{useText as V}from"../i18n.js";import j from"../chunks/Trash__BVZwxilyNs.js";import{useContext as B}from"../preact-hooks.js";import{UIContext as E}from"./UIProvider.js";import{Skeleton as z,SkeletonRow as s}from"./Skeleton.js";import F from"./ProgressSpinner.js";import{Incrementer as O}from"./Incrementer.js";import T from"./Button.js";import{Icon as U}from"./Icon.js";import"../chunks/debounce__BF4Cdv7Ils.js";import"../chunks/Add__CiEO_sX7HP.js";import"../chunks/Minus__CefO5Dkv_0.js";const se=({className:b,children:G,ariaLabel:c,image:I,title:k,price:C,taxIncluded:p=!1,taxExcluded:N=!1,total:D,totalExcludingTax:u,sku:q,configurations:h,warning:n,alert:l,quantity:o=1,description:x,loading:S=!1,updating:d=!1,onQuantity:i,onRemove:m,...w})=>{var g,v;const{locale:f}=B(E),a=V({each:"Dropin.CartItem.each.label",quantity:"Dropin.CartItem.quantity.label",remove:"Dropin.CartItem.remove.label",removeDefault:"Dropin.CartItem.removeDefault.label",taxIncluded:"Dropin.CartItem.taxIncluded.label",taxExcluded:"Dropin.CartItem.taxExcluded.label",updating:"Dropin.CartItem.updating.label",updatingDefault:"Dropin.ProgressSpinner.updating.label"});return S?e(A,{}):e("div",{...w,className:t(["dropin-cart-item",["dropin-cart-item--updating",d],b]),children:[d&&e(F,{className:t(["dropin-cart-item__spinner"]),ariaLabel:c?(g=a.updating)==null?void 0:g.replace("{product}",c):a.updatingDefault}),e("div",{className:"dropin-cart-item__wrapper",children:[e(r,{node:I,className:t(["dropin-cart-item__image"])}),e(r,{node:k,className:t(["dropin-cart-item__title",["dropin-cart-item__title--edit",!!i||!!m]])}),x&&e(r,{node:x,className:t(["dropin-cart-item__description"])}),e(r,{node:q,className:t(["dropin-cart-item__sku"])}),h&&e("ul",{className:t(["dropin-cart-item__configurations"]),children:Object.entries(h).map(([_,y])=>e("li",{className:t(["dropin-cart-item__configurations__item"]),children:[_,":"," ",e("strong",{className:t(["dropin-cart-item__configurations__item__value"]),children:y})]},_))}),e("span",{className:t(["dropin-cart-item__price"]),children:[!i&&e("span",{className:"dropin-cart-item__price__quantity",children:[o.toLocaleString(f)," x"," "]}),e(r,{node:C,role:"text"}),o>1&&e(P,{children:[" ",a.each]}),p&&e("span",{"data-testid":"tax-message",className:"dropin-cart-item__price-tax-message",children:[" ",a.taxIncluded]}),N&&e("span",{"data-testid":"tax-message",className:"dropin-cart-item__price-tax-message",children:[" ",a.taxExcluded]})]}),e("div",{className:t(["dropin-cart-item__quantity",["dropin-cart-item__quantity--edit",!!i]]),children:[i?e(O,{className:t(["dropin-cart-item__quantity__incrementer"]),value:o,min:1,onValue:_=>i==null?void 0:i(Number(_)),name:"quantity","aria-label":a.quantity,disabled:d}):e("span",{className:t(["dropin-cart-item__quantity__value"]),children:[a.quantity,":"," ",e("strong",{className:"dropin-cart-item__quantity__number",children:Number(o).toLocaleString(f)})]}),n&&e(r,{node:n,className:t(["dropin-cart-item__warning","dropin-cart-item__warning--quantity"])}),l&&e(r,{node:l,className:t(["dropin-cart-item__alert","dropin-cart-item__alert--quantity"])})]}),n&&e(r,{node:n,className:t(["dropin-cart-item__warning"])}),l&&e(r,{node:l,className:t(["dropin-cart-item__alert"])}),e("div",{className:t(["dropin-cart-item__total",["dropin-cart-item__total--edit",!!m]]),children:[e("div",{className:"dropin-cart-item__row-total",children:e(r,{node:D,role:"text"})}),p&&e("span",{"data-testid":"tax-message",className:t(["dropin-cart-item__total-tax-message"]),children:[" ",a.taxIncluded]}),N&&e("div",{className:"dropin-cart-item__total-tax-excluded",children:e("span",{"data-testid":"tax-message",className:t(["dropin-cart-item__total-tax-excluded-message"]),children:[u&&e(r,{node:u,role:"text"})," ",a.taxExcluded]})})]})]}),m&&e(T,{className:t(["dropin-cart-item__remove"]),variant:"tertiary",onClick:()=>m==null?void 0:m(),icon:e(U,{source:j,size:"24",stroke:"2",viewBox:"0 0 24 24","aria-label":c?(v=a.remove)==null?void 0:v.replace("{product}",c):a.removeDefault}),disabled:d})]})},A=()=>e("div",{className:"dropin-cart-item dropin-cart-item-skeleton",children:e(z,{className:"dropin-cart-item__skeleton dropin-cart-item__wrapper",children:[e("div",{className:"dropin-cart-item__image",children:e(s,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__title",children:e(s,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__sku",children:e(s,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__price",children:e(s,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__quantity",children:e(s,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__total",children:e(s,{className:"dropin-cart-item__skeleton__item"})})]})});export{se as CartItem,A as CartItemSkeleton,se as default};
//# sourceMappingURL=CartItem.js.map
