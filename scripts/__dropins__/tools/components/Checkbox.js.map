{"version":3,"file":"Checkbox.js","sources":["../../src/components/Checkbox/Checkbox.tsx"],"sourcesContent":["import { FunctionComponent } from 'preact';\nimport { ChangeEvent, HTMLAttributes, useRef, useState } from 'preact/compat';\nimport { classes } from '@adobe/elsie/lib';\nimport { Check } from '@adobe/elsie/icons';\nimport { Icon } from '@adobe/elsie/components/Icon';\nimport '@adobe/elsie/components/Checkbox/Checkbox.css';\n\nexport interface CheckboxProps\n  extends Omit<HTMLAttributes<HTMLInputElement>, 'size'> {\n  name: string;\n  size?: 'medium' | 'large';\n  disabled?: boolean;\n  error?: boolean;\n  label?: string;\n  description?: string;\n}\n\nexport const Checkbox: FunctionComponent<CheckboxProps> = ({\n  name,\n  value,\n  size = 'medium',\n  disabled = false,\n  error = false,\n  label = '',\n  description = '',\n  className,\n  checked,\n  ...props\n}) => {\n  const [isChecked, setIsChecked] = useState(\n    checked === undefined ? false : checked\n  );\n  const ref = useRef<HTMLInputElement>(null);\n\n  const handleCheckboxChange = (e: ChangeEvent<HTMLInputElement>) => {\n    props.onChange?.(e);\n    setIsChecked(e.currentTarget.checked);\n  };\n\n  const handleOnKeyDown = (e: KeyboardEvent) => {\n    if (e.key === ' ') {\n      e.preventDefault();\n      ref?.current?.click();\n    }\n  };\n\n  return (\n    <label\n      className={classes([\n        'dropin-checkbox',\n        ['dropin-checkbox--disabled', disabled],\n      ])}\n    >\n      <input\n        ref={ref}\n        name={name}\n        value={value}\n        type=\"checkbox\"\n        disabled={disabled}\n        className={classes([\n          'dropin-checkbox__checkbox',\n          ['dropin-checkbox__checkbox--error', error],\n          className,\n        ])}\n        {...props}\n        onChange={handleCheckboxChange}\n        checked={isChecked}\n      />\n      <span\n        aria-checked={isChecked ? 'true' : 'false'}\n        aria-labelledby={`${name}-label`}\n        aria-describedby={`${name}-description`}\n        className={classes([\n          'dropin-checkbox__box',\n          ['dropin-checkbox__box--error', error],\n          ['dropin-checkbox__box--disabled', disabled],\n        ])}\n        role=\"checkbox\"\n        tabIndex={disabled ? -1 : 0}\n        onKeyDown={handleOnKeyDown}\n      >\n        <Icon\n          className={classes(['dropin-checkbox__checkmark'])}\n          source={Check}\n          size=\"16\"\n          stroke=\"3\"\n        />\n      </span>\n      <div\n        id={`${name}-label`}\n        className={classes([\n          'dropin-checkbox__label',\n          `dropin-checkbox__label--${size}`,\n          ['dropin-checkbox__label--disabled', disabled],\n        ])}\n      >\n        {label}\n      </div>\n      <div />\n      <div\n        id={`${name}-description`}\n        role={'note'}\n        className={classes([\n          'dropin-checkbox__description',\n          `dropin-checkbox__description--${size}`,\n          ['dropin-checkbox__description--disabled', disabled],\n        ])}\n      >\n        {description}\n      </div>\n    </label>\n  );\n};\n"],"names":["Checkbox","name","value","size","disabled","error","label","description","className","checked","props","isChecked","setIsChecked","useState","undefined","ref","useRef","handleCheckboxChange","e","onChange","currentTarget","handleOnKeyDown","key","preventDefault","current","click","_jsxs","classes","children","_jsx","type","role","tabIndex","onKeyDown","Icon","source","Check","stroke","id"],"mappings":"mYAiBO,MAAMA,EAA6CA,CAAC,CACzDC,KAAAA,EACAC,MAAAA,EACAC,KAAAA,EAAO,SACPC,SAAAA,EAAW,GACXC,MAAAA,EAAQ,GACRC,MAAAA,EAAQ,GACRC,YAAAA,EAAc,GACdC,UAAAA,EACAC,QAAAA,EACA,GAAGC,CACL,IAAM,CACE,KAAA,CAACC,EAAWC,CAAY,EAAIC,EAChCJ,IAAYK,OAAY,GAAQL,CAClC,EACMM,EAAMC,EAAyB,IAAI,EAEnCC,EAAwBC,GAAqC,QACjER,EAAAA,EAAMS,WAANT,MAAAA,EAAAA,KAAAA,EAAiBQ,GACJA,EAAAA,EAAEE,cAAcX,OAAO,CAAA,EAGhCY,EAAmBH,GAAqB,OACxCA,EAAEI,MAAQ,MACZJ,EAAEK,eAAe,GACjBR,EAAAA,GAAAA,YAAAA,EAAKS,UAALT,MAAAA,EAAcU,QAChB,EAGF,OACEC,EAAA,QAAA,CACElB,UAAWmB,EAAQ,CACjB,kBACA,CAAC,4BAA6BvB,CAAQ,CAAC,CACxC,EAAEwB,UAEHC,EAAA,QAAA,CACEd,IAAAA,EACAd,KAAAA,EACAC,MAAAA,EACA4B,KAAK,WACL1B,SAAAA,EACAI,UAAWmB,EAAQ,CACjB,4BACA,CAAC,mCAAoCtB,CAAK,EAC1CG,CAAS,CACV,EAAE,GACCE,EACJS,SAAUF,EACVR,QAASE,CAAAA,CACV,EACDkB,EAAA,OAAA,CACE,eAAclB,EAAY,OAAS,QACnC,kBAAkB,GAAEV,CAAK,SACzB,mBAAmB,GAAEA,CAAK,eAC1BO,UAAWmB,EAAQ,CACjB,uBACA,CAAC,8BAA+BtB,CAAK,EACrC,CAAC,iCAAkCD,CAAQ,CAAC,CAC7C,EACD2B,KAAK,WACLC,SAAU5B,EAAW,GAAK,EAC1B6B,UAAWZ,EAAgBO,SAE3BC,EAACK,EAAI,CACH1B,UAAWmB,EAAQ,CAAC,4BAA4B,CAAC,EACjDQ,OAAQC,EACRjC,KAAK,KACLkC,OAAO,GAAA,CACR,CAAA,CACG,EACNR,EAAA,MAAA,CACES,GAAK,GAAErC,CAAK,SACZO,UAAWmB,EAAQ,CACjB,yBACC,2BAA0BxB,CAAK,GAChC,CAAC,mCAAoCC,CAAQ,CAAC,CAC/C,EAAEwB,SAEFtB,CAAAA,CACE,EACLuB,EAAM,MAAA,CAAA,CAAA,EACNA,EAAA,MAAA,CACES,GAAK,GAAErC,CAAK,eACZ8B,KAAM,OACNvB,UAAWmB,EAAQ,CACjB,+BACC,iCAAgCxB,CAAK,GACtC,CAAC,yCAA0CC,CAAQ,CAAC,CACrD,EAAEwB,SAEFrB,CAAAA,CACE,CAAC,CAAA,CACD,CAEX"}