import"../preact-compat.js";import{c as d}from"../chunks/classes__DJBjVfEyCI.js";import"../chunks/image-params-keymap__DhvefBR8Rn.js";import"../preact.js";import{jsx as l}from"../preact-jsx-runtime.js";import{useText as i}from"../i18n.js";import{useState as g,useRef as C,useCallback as F,useEffect as L}from"../preact-hooks.js";import"../chunks/preload-helper__uemlvruIqb.js";const z=({className:f,name:m,value:w,label:t,groupAriaLabel:a,id:h,disabled:p=!1,selected:s=!1,outOfStock:u=!1,multi:x=!1,onValue:c,onUpdateError:n,...b})=>{const $=i("Dropin.Swatches.outOfStock.label").label,_=i("Dropin.Swatches.selected.label").label,S=i("Dropin.Swatches.swatch.label").label,[k,v]=g(!1),e=C(null),O=F(async r=>{if(c)try{await c(r)}catch(o){n&&n(o)}},[c,n]),y=r=>{const o=r.target;O(o.value)},D=()=>u?`${a}: ${t} ${$}`:s?`${a}: ${t} ${_}`:`${a}: ${t} ${S}`;return L(()=>{e.current&&e.current.scrollWidth>e.current.clientWidth&&v(!0)},[t]),l("div",{className:"dropin-text-swatch__container",...k?{"data-tooltip":t}:{},children:[l("input",{type:x?"checkbox":"radio",name:m,id:h,value:w,"aria-label":D(),checked:s,disabled:p,onChange:y,...b,className:d(["dropin-text-swatch",["dropin-text-swatch--selected",s],["dropin-text-swatch--disabled",p],f])}),l("label",{htmlFor:h,ref:e,className:d(["dropin-text-swatch__label",["dropin-text-swatch__label--out-of-stock",u],f]),children:t})]})};export{z as TextSwatch,z as default};
//# sourceMappingURL=TextSwatch.js.map
