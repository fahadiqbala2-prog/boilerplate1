/*! Copyright 2025 Adobe
All Rights Reserved. */
import{merge as a}from"@dropins/tools/lib.js";import{c as ee}from"./productSearch.js";const d=e=>{var l,i,r,o,s,m,f,g,p,y,v,R,k,w,_,x,b,D,K,T,C,P,A,O,V,z,I,j,q,B,E,F,G,H,J,N,Q,S,U,W,X,Y,Z,$,M,L,h,u,t;if(!e)return{id:"",name:"",sku:"",shortDescription:"",url:"",urlKey:"",metaTitle:"",metaKeywords:"",metaDescription:"",lowStock:!1,links:[],images:[],description:"",externalId:"",inputOptions:[],addToCartAllowed:!1,price:void 0,priceRange:void 0,inStock:!1,typename:""};const n={id:(e==null?void 0:e.id)||"",name:(e==null?void 0:e.name)||"",sku:(e==null?void 0:e.sku)||"",shortDescription:(e==null?void 0:e.shortDescription)||"",url:(e==null?void 0:e.url)||"",urlKey:(e==null?void 0:e.urlKey)||"",metaTitle:(e==null?void 0:e.metaTitle)||"",metaKeywords:(e==null?void 0:e.metaKeywords)||"",metaDescription:(e==null?void 0:e.metaDescription)||"",lowStock:(e==null?void 0:e.lowStock)||!1,links:(e==null?void 0:e.links)||[],images:((l=e==null?void 0:e.images)==null?void 0:l.map(c=>({label:c.label||"",roles:c.roles||[],url:c.url||""})))||[],description:(e==null?void 0:e.description)||"",externalId:(e==null?void 0:e.externalId)||"",inputOptions:(e==null?void 0:e.inputOptions)||[],addToCartAllowed:(e==null?void 0:e.addToCartAllowed)||!1,price:e.price?{final:{amount:{value:((o=(r=(i=e==null?void 0:e.price)==null?void 0:i.final)==null?void 0:r.amount)==null?void 0:o.value)||0,currency:((f=(m=(s=e==null?void 0:e.price)==null?void 0:s.final)==null?void 0:m.amount)==null?void 0:f.currency)||""}},regular:{amount:{value:((y=(p=(g=e==null?void 0:e.price)==null?void 0:g.regular)==null?void 0:p.amount)==null?void 0:y.value)||0,currency:((k=(R=(v=e==null?void 0:e.price)==null?void 0:v.regular)==null?void 0:R.amount)==null?void 0:k.currency)||""}},roles:((w=e==null?void 0:e.price)==null?void 0:w.roles)||[]}:void 0,priceRange:e!=null&&e.priceRange?{minimum:{final:{amount:{value:((D=(b=(x=(_=e==null?void 0:e.priceRange)==null?void 0:_.minimum)==null?void 0:x.final)==null?void 0:b.amount)==null?void 0:D.value)||0,currency:((P=(C=(T=(K=e==null?void 0:e.priceRange)==null?void 0:K.minimum)==null?void 0:T.final)==null?void 0:C.amount)==null?void 0:P.currency)||""}},regular:{amount:{value:((z=(V=(O=(A=e==null?void 0:e.priceRange)==null?void 0:A.minimum)==null?void 0:O.regular)==null?void 0:V.amount)==null?void 0:z.value)||0,currency:((B=(q=(j=(I=e==null?void 0:e.priceRange)==null?void 0:I.minimum)==null?void 0:j.regular)==null?void 0:q.amount)==null?void 0:B.currency)||""}}},maximum:{final:{amount:{value:((H=(G=(F=(E=e==null?void 0:e.priceRange)==null?void 0:E.maximum)==null?void 0:F.final)==null?void 0:G.amount)==null?void 0:H.value)||0,currency:((S=(Q=(N=(J=e==null?void 0:e.priceRange)==null?void 0:J.maximum)==null?void 0:N.final)==null?void 0:Q.amount)==null?void 0:S.currency)||""}},regular:{amount:{value:((Y=(X=(W=(U=e==null?void 0:e.priceRange)==null?void 0:U.maximum)==null?void 0:W.regular)==null?void 0:X.amount)==null?void 0:Y.value)||0,currency:((L=(M=($=(Z=e==null?void 0:e.priceRange)==null?void 0:Z.maximum)==null?void 0:$.regular)==null?void 0:M.amount)==null?void 0:L.currency)||""}}}}:void 0,inStock:(e==null?void 0:e.inStock)||!1,typename:(e==null?void 0:e.__typename)||""};return a(n,(t=(u=(h=ee.getConfig().models)==null?void 0:h.Product)==null?void 0:u.transformer)==null?void 0:t.call(u,e))};function ie(e){var i,r,o,s;const n=e==null?void 0:e.productSearch;return{facets:(n==null?void 0:n.facets)||[],items:(n==null?void 0:n.items.map(m=>d(m==null?void 0:m.productView)))||[],pageInfo:{currentPage:((i=n==null?void 0:n.page_info)==null?void 0:i.current_page)||1,totalPages:((r=n==null?void 0:n.page_info)==null?void 0:r.total_pages)||1,totalItems:((o=n==null?void 0:n.page_info)==null?void 0:o.total_items)||0,pageSize:((s=n==null?void 0:n.page_info)==null?void 0:s.page_size)||10},totalCount:(n==null?void 0:n.total_count)||0}}function oe(e){const n=e==null?void 0:e.attributeMetadata;return{sortable:(n==null?void 0:n.sortable)||[],filterableInSearch:(n==null?void 0:n.filterableInSearch)||[]}}const le=e=>{var n,l;return((l=(n=e==null?void 0:e.productSearch)==null?void 0:n.items)==null?void 0:l.reduce((i,r)=>{if(!(r!=null&&r.productView))return i;const o=d(r.productView);return o&&i.push(o),i},[]))||[]};export{ie as a,oe as b,d as c,le as t};
//# sourceMappingURL=api.js.map
