/*! Copyright 2025 Adobe
All Rights Reserved. */
const d=e=>{var n,o,s,c,i,l,u,p,f,g,_,v,S,C,E,I,k,w,D,T,b,x,h,P,A,U,t,L,N,H,K,O,V,q,z,X,F,Q,W,j,B,G,J,Y,Z,$;return e?{id:(e==null?void 0:e.id)||"",name:(e==null?void 0:e.name)||"",sku:(e==null?void 0:e.sku)||"",shortDescription:(e==null?void 0:e.shortDescription)||"",url:(e==null?void 0:e.url)||"",urlKey:(e==null?void 0:e.urlKey)||"",metaTitle:(e==null?void 0:e.metaTitle)||"",metaKeywords:(e==null?void 0:e.metaKeywords)||"",metaDescription:(e==null?void 0:e.metaDescription)||"",lowStock:(e==null?void 0:e.lowStock)||!1,links:(e==null?void 0:e.links)||[],images:((n=e==null?void 0:e.images)==null?void 0:n.map(y=>({label:y.label||"",roles:y.roles||[],url:y.url||""})))||[],description:(e==null?void 0:e.description)||"",externalId:(e==null?void 0:e.externalId)||"",inputOptions:(e==null?void 0:e.inputOptions)||[],addToCartAllowed:(e==null?void 0:e.addToCartAllowed)||!1,price:e.price?{final:{amount:{value:((c=(s=(o=e==null?void 0:e.price)==null?void 0:o.final)==null?void 0:s.amount)==null?void 0:c.value)||0,currency:((u=(l=(i=e==null?void 0:e.price)==null?void 0:i.final)==null?void 0:l.amount)==null?void 0:u.currency)||""}},regular:{amount:{value:((g=(f=(p=e==null?void 0:e.price)==null?void 0:p.regular)==null?void 0:f.amount)==null?void 0:g.value)||0,currency:((S=(v=(_=e==null?void 0:e.price)==null?void 0:_.regular)==null?void 0:v.amount)==null?void 0:S.currency)||""}},roles:((C=e==null?void 0:e.price)==null?void 0:C.roles)||[]}:void 0,priceRange:e!=null&&e.priceRange?{minimum:{final:{amount:{value:((w=(k=(I=(E=e==null?void 0:e.priceRange)==null?void 0:E.minimum)==null?void 0:I.final)==null?void 0:k.amount)==null?void 0:w.value)||0,currency:((x=(b=(T=(D=e==null?void 0:e.priceRange)==null?void 0:D.minimum)==null?void 0:T.final)==null?void 0:b.amount)==null?void 0:x.currency)||""}},regular:{amount:{value:((U=(A=(P=(h=e==null?void 0:e.priceRange)==null?void 0:h.minimum)==null?void 0:P.regular)==null?void 0:A.amount)==null?void 0:U.value)||0,currency:((H=(N=(L=(t=e==null?void 0:e.priceRange)==null?void 0:t.minimum)==null?void 0:L.regular)==null?void 0:N.amount)==null?void 0:H.currency)||""}}},maximum:{final:{amount:{value:((q=(V=(O=(K=e==null?void 0:e.priceRange)==null?void 0:K.maximum)==null?void 0:O.final)==null?void 0:V.amount)==null?void 0:q.value)||0,currency:((Q=(F=(X=(z=e==null?void 0:e.priceRange)==null?void 0:z.maximum)==null?void 0:X.final)==null?void 0:F.amount)==null?void 0:Q.currency)||""}},regular:{amount:{value:((G=(B=(j=(W=e==null?void 0:e.priceRange)==null?void 0:W.maximum)==null?void 0:j.regular)==null?void 0:B.amount)==null?void 0:G.value)||0,currency:(($=(Z=(Y=(J=e==null?void 0:e.priceRange)==null?void 0:J.maximum)==null?void 0:Y.regular)==null?void 0:Z.amount)==null?void 0:$.currency)||""}}}}:void 0,inStock:(e==null?void 0:e.inStock)||!1,typename:(e==null?void 0:e.__typename)||""}:{id:"",name:"",sku:"",shortDescription:"",url:"",urlKey:"",metaTitle:"",metaKeywords:"",metaDescription:"",lowStock:!1,links:[],images:[],description:"",externalId:"",inputOptions:[],addToCartAllowed:!1,price:void 0,priceRange:void 0,inStock:!1,typename:""}};function pe(e){var o,s,c,i;const r=e==null?void 0:e.productSearch;return{facets:(r==null?void 0:r.facets)||[],items:(r==null?void 0:r.items.map(l=>d(l==null?void 0:l.productView)))||[],pageInfo:{currentPage:((o=r==null?void 0:r.page_info)==null?void 0:o.current_page)||1,totalPages:((s=r==null?void 0:r.page_info)==null?void 0:s.total_pages)||1,totalItems:((c=r==null?void 0:r.page_info)==null?void 0:c.total_items)||0,pageSize:((i=r==null?void 0:r.page_info)==null?void 0:i.page_size)||10},totalCount:(r==null?void 0:r.total_count)||0}}function fe(e){const r=e==null?void 0:e.attributeMetadata;return{sortable:(r==null?void 0:r.sortable)||[],filterableInSearch:(r==null?void 0:r.filterableInSearch)||[]}}const ge=e=>{var r,n;return((n=(r=e==null?void 0:e.productSearch)==null?void 0:r.items)==null?void 0:n.reduce((o,s)=>{if(!(s!=null&&s.productView))return o;const c=d(s.productView);return c&&o.push(c),o},[]))||[]},M="searchInputContext",a="searchResultsContext",me="livesearch-plp",Re="livesearch-popover",re="search-product-click",se="search-request-sent",oe="search-response-received",ue="search-results-view";function m(){return window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer}function ee(e){const r=m();return r.getState?r.getState(e):{}}function ne(e,r){const n=m();n.push({[e]:null}),n.push({[e]:r})}function R(e,r){m().push(o=>{const s=o.getState?o.getState():{};o.push({event:e,eventInfo:{...s,...r}})})}const ye=e=>{R(se,{searchUnitId:e})},_e=e=>{R(oe,{searchUnitId:e})},ve=e=>{R(ue,{searchUnitId:e})},Se=(e,r)=>{R(re,{sku:e,searchUnitId:r})},Ce=(e,r,n,o,s,c,i)=>{if(!m)return;const u=ee(M)||{};u!=null&&u.units||(u.units=[]);const p={searchUnitId:e,searchRequestId:r,queryTypes:["products","suggestions"],phrase:n,pageSize:s,currentPage:c,filter:o,sort:i},f=u.units.findIndex(g=>g.searchUnitId===e);f<0?u.units.push(p):u.units[f]=p,ne(M,u)},Ee=(e,r,n)=>{var l,u;if(!m)return;const s=ee(a)||{};s!=null&&s.units||(s.units=[]);const c=s.units.findIndex(p=>p.searchUnitId===e),i={searchUnitId:e,searchRequestId:r,products:ce(n.items),categories:[],suggestions:ie(n.suggestions),page:((l=n==null?void 0:n.pageInfo)==null?void 0:l.currentPage)||1,perPage:((u=n==null?void 0:n.pageInfo)==null?void 0:u.pageSize)||20,facets:le(n.facets)};c<0?s.units.push(i):s.units[c]=i,ne(a,s)},ce=e=>e?e.map((n,o)=>{var s,c,i,l,u,p,f,g;return{name:n==null?void 0:n.name,sku:n==null?void 0:n.sku,url:(n==null?void 0:n.url)??"",imageUrl:((s=n==null?void 0:n.images[0])==null?void 0:s.url)??"",price:((l=(i=(c=n==null?void 0:n.price)==null?void 0:c.final)==null?void 0:i.amount)==null?void 0:l.value)??((g=(f=(p=(u=n==null?void 0:n.priceRange)==null?void 0:u.minimum)==null?void 0:p.regular)==null?void 0:f.amount)==null?void 0:g.value),rank:o}}):[],ie=e=>e?e.map((n,o)=>({suggestion:n,rank:o})):[],le=e=>e?e.map(n=>({attribute:n==null?void 0:n.attribute,title:n==null?void 0:n.title,type:(n==null?void 0:n.type)||"PINNED",buckets:n==null?void 0:n.buckets.map(o=>o)})):[];export{me as P,Re as S,Ee as a,_e as b,ve as c,pe as d,fe as e,d as f,Se as g,ye as s,ge as t,Ce as u};
//# sourceMappingURL=acdlEvents.js.map
