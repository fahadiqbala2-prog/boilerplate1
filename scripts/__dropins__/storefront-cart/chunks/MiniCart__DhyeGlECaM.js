import*as _ from"@dropins/tools/preact-compat.js";import{useState as O,useMemo as S,useContext as z,Children as F}from"@dropins/tools/preact-compat.js";import{jsx as e,jsxs as u,Fragment as W}from"@dropins/tools/preact-jsx-runtime.js";import{o as Z}from"./getStoreConfig__DjEej2Iar8.js";import{c as n,L as B,T as H,V as k,u as D,a as K}from"./UIProvider__KplsarDn2b.js";import{useState as G,useEffect as U,useCallback as J}from"@dropins/tools/preact-hooks.js";import{Icon as $}from"@dropins/tools/components/Icon.js";const X=(a,r)=>{let i;return function(...t){clearTimeout(i),i=setTimeout(()=>a.apply(this,t),r)}},P={medium:768,large:1024,xlarge:1366,xxlarge:1920},Y=(a,r)=>{const[i,t]=a.split("?"),s=new URLSearchParams(t),l=Z();let d={};return l&&Object.keys(l).length>0&&r?d=Object.entries(r).reduce((o,[c,p])=>{const h=l[c];return h&&(o[h]=p),o},{}):d={auto:"webp",quality:80,crop:!1,fit:"cover",...r},Object.entries(d).forEach(([o,c])=>{c!=null&&s.set(o,String(c))}),`${i}?${s.toString()}`},R=(a,r)=>{if(!a||!(r!=null&&r.width))return;const i=t=>Y(a,{...t});return Object.entries(P).map(([,t])=>{const s=r.width*t/P.xxlarge;return`${i({...r,width:s})} ${t}w`}).join(`,
`)},j=1,y=({className:a,fullWidth:r=!1,lines:i=j,size:t="small",variant:s="row",children:l=null,multilineGap:d="medium",...o})=>{const c=[[`dropin-skeleton-row__${s}`,s],[`dropin-skeleton-row__${s}-${t}`,s&&t]];if(!l&&s==="empty")return e("div",{className:n(["dropin-skeleton-row dropin-skeleton-row__empty",a])});if(l){const h=l.trim();return e("div",{...o,class:n(["dropin-skeleton-row",["dropin-skeleton-row--full",r],a]),dangerouslySetInnerHTML:{__html:h}})}return i>j===!1?e("div",{...o,class:n(["dropin-skeleton-row",["dropin-skeleton-row--full",r],"dropin-skeleton--row__content",...c,a])}):e("div",{...o,style:{"--multiline-gap-spacing":`var(--spacing-${d})`},class:n(["dropin-skeleton-row--multiline",["dropin-skeleton-row--full",r],a]),children:Array.from({length:i}).map((h,N)=>e("div",{class:n(["dropin-skeleton-row",["dropin-skeleton-row--full",r],"dropin-skeleton--row__content",...c])},N))})},Q=({className:a,children:r,rowGap:i="medium",...t})=>e("div",{style:{"--row-gap-spacing":`var(--spacing-${i})`},...t,className:n(["dropin-skeleton",a]),role:"status","aria-label":"Loading...",children:r}),ee=a=>_.createElement("svg",{id:"Icon_Add_Base","data-name":"Icon \\u2013 Add \\u2013 Base",xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",...a},_.createElement("g",{id:"Large"},_.createElement("rect",{id:"Placement_area","data-name":"Placement area",width:24,height:24,fill:"#fff",opacity:0}),_.createElement("g",{id:"Add_icon","data-name":"Add icon",transform:"translate(9.734 9.737)"},_.createElement("line",{vectorEffect:"non-scaling-stroke",id:"Line_579","data-name":"Line 579",y2:12.7,transform:"translate(2.216 -4.087)",fill:"none",stroke:"currentColor"}),_.createElement("line",{vectorEffect:"non-scaling-stroke",id:"Line_580","data-name":"Line 580",x2:12.7,transform:"translate(-4.079 2.263)",fill:"none",stroke:"currentColor"})))),te=a=>_.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},_.createElement("g",{clipPath:"url(#clip0_102_196)"},_.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M18.3601 18.16H6.5601L4.8801 3H2.3501M19.6701 19.59C19.6701 20.3687 19.0388 21 18.2601 21C17.4814 21 16.8501 20.3687 16.8501 19.59C16.8501 18.8113 17.4814 18.18 18.2601 18.18C19.0388 18.18 19.6701 18.8113 19.6701 19.59ZM7.42986 19.59C7.42986 20.3687 6.79858 21 6.01986 21C5.24114 21 4.60986 20.3687 4.60986 19.59C4.60986 18.8113 5.24114 18.18 6.01986 18.18C6.79858 18.18 7.42986 18.8113 7.42986 19.59Z",stroke:"currentColor",strokeLinejoin:"round"}),_.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M5.25 6.37L20.89 8.06L20.14 14.8H6.19",stroke:"currentColor",strokeLinejoin:"round"})),_.createElement("defs",null,_.createElement("clipPath",{id:"clip0_102_196"},_.createElement("rect",{vectorEffect:"non-scaling-stroke",width:19.29,height:19.5,fill:"white",transform:"translate(2.3501 2.25)"})))),re=a=>_.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},_.createElement("path",{d:"M17.3332 11.75H6.6665",strokeWidth:1.5,strokeLinecap:"square",strokeLinejoin:"round",vectorEffect:"non-scaling-stroke",fill:"none",stroke:"currentColor"})),ne=a=>_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...a},_.createElement("path",{d:"M1 5H23",stroke:"black",strokeWidth:1.5,strokeMiterlimit:10}),_.createElement("path",{d:"M17.3674 22H6.63446C5.67952 22 4.88992 21.2688 4.8379 20.3338L4 5H20L19.1621 20.3338C19.1119 21.2688 18.3223 22 17.3655 22H17.3674Z",stroke:"black",strokeWidth:1.5,strokeMiterlimit:10}),_.createElement("path",{d:"M9.87189 2H14.1281C14.6085 2 15 2.39766 15 2.88889V5H9V2.88889C9 2.39912 9.39006 2 9.87189 2Z",stroke:"black",strokeWidth:1.5,strokeMiterlimit:10}),_.createElement("path",{d:"M8.87402 8.58057L9.39348 17.682",stroke:"black",strokeWidth:1.5,strokeMiterlimit:10}),_.createElement("path",{d:"M14.6673 8.58057L14.146 17.682",stroke:"black",strokeWidth:1.5,strokeMiterlimit:10})),ae=({name:a,value:r="1",className:i,disabled:t,error:s,success:l,min:d,max:o,onValue:c,onUpdateError:p,size:h="medium",...N})=>{const[m,w]=G(Number(r)),v=Number(d),C=Number(o);U(()=>{w(Number(r))},[r]);const I=J(X(async f=>{if(c)try{await c(f)}catch(g){p&&p(g)}},200),[c,p]),x=f=>{let g=f;f<v&&(g=v),f>C&&(g=C),I(g),w(g)};return e("div",{className:n(["dropin-incrementer",`dropin-incrementer--${h}`,i]),children:u("div",{className:n(["dropin-incrementer__content",`dropin-incrementer__content--${h}`,["dropin-incrementer__content--error",s],["dropin-incrementer__content--success",l],["dropin-incrementer__content--disabled",t]]),children:[e("div",{className:n(["dropin-incrementer__button-container",["dropin-incrementer__button-container--disabled",t]]),children:e(B,{children:e("button",{type:"button",className:n(["dropin-incrementer__decrease-button",["dropin-incrementer__decrease-button--disabled",t]]),onClick:()=>x(m-1),disabled:t||m<v+1,"aria-label":e(H,{id:"Dropin.Incrementer.decreaseLabel"}),children:e($,{source:re,size:"16",stroke:"1",viewBox:"4 2 20 20",className:"dropin-incrementer__down"})})})}),e("input",{className:"dropin-incrementer__input",max:o,min:d,step:1,type:"number",name:a,value:m,disabled:t,onChange:f=>{const g=f.currentTarget.value;g!==""&&x(Number(g))},...N}),e("div",{className:n(["dropin-incrementer__button-container",["dropin-incrementer__button-container--disabled",t]]),children:e(B,{children:e("button",{type:"button",className:n(["dropin-incrementer__increase-button",["dropin-incrementer__increase-button--disabled",t]]),onClick:()=>x(m+1),disabled:t||m>C-1,"aria-label":e(H,{id:"Dropin.Incrementer.increaseLabel"}),children:e($,{source:ee,size:"16",stroke:"1",viewBox:"4 2 20 20",className:"dropin-incrementer__add"})})})})]})})},ue=({className:a,src:r,params:i,loading:t="lazy",srcSet:s,onLoad:l,...d})=>{const[o,c]=O(!1),p=S(()=>{if(s)return s;if(!(!r||!i))return R(r,{...i})},[i,r,s]),h=N=>{c(!0),l==null||l(N)};return e("img",{...d,className:n(["dropin-image",["dropin-image--loaded",o],a]),loading:t,onLoad:h,src:r,srcSet:p})},he=({variant:a="primary",className:r})=>e("hr",{role:"separator",className:n(["dropin-divider",`dropin-divider--${a}`,r])}),ge=({amount:a=0,currency:r,locale:i=void 0,variant:t="default",weight:s="bold",className:l,children:d,sale:o=!1,formatOptions:c={},size:p="small",...h})=>{const N=S(()=>new Intl.NumberFormat(i,{style:"currency",currency:r||"USD",minimumFractionDigits:2,maximumFractionDigits:2,...c}),[i,r,c]),m=S(()=>N.format(a),[a,N]);return e("span",{...h,className:n(["dropin-price",`dropin-price--${t}`,`dropin-price--${p}`,`dropin-price--${s}`,["dropin-price--sale",o],l]),children:m})},V=({value:a,variant:r="primary",size:i="medium",icon:t,className:s,children:l,disabled:d=!1,active:o=!1,activeChildren:c,activeIcon:p,href:h,...N})=>{let m="dropin-button";(t&&!l||t&&o&&!c||!t&&o&&p)&&(m="dropin-iconButton"),o&&c&&(m="dropin-button"),s=n([m,`${m}--${i}`,`${m}--${r}`,[`${m}--${r}--disabled`,d],l&&t&&`${m}--with-icon`,!l&&c&&t&&`${m}--with-icon`,o&&p&&`${m}--with-icon`,s]);const w=n(["dropin-button-icon",`dropin-button-icon--${r}`,[`dropin-button-icon--${r}--disabled`,d],t==null?void 0:t.props.className]),v=h?{node:e("a",{}),role:"link",href:h,...N,disabled:d,active:o}:{node:e("button",{}),role:"button",...N,value:a,disabled:d,active:o};return u(k,{...v,className:s,children:[t&&!o&&e(k,{node:t,className:w}),p&&o&&e(k,{node:p,className:w}),l&&!o&&(typeof l=="string"?e("span",{children:l}):l),o&&c&&(typeof c=="string"?e("span",{children:c}):c)]})},ie=({variant:a="primary",className:r,children:i,...t})=>e("div",{...t,className:n(["dropin-card",`dropin-card--${a}`,r]),children:e("div",{class:"dropin-card__content",children:i})}),se=({ariaLabel:a,size:r="small",stroke:i="4",children:t,className:s,style:l,...d})=>{const o=["dropin-progress-spinner",`dropin-progress-spinner--shape-size-${r}`,`dropin-progress-spinner--shape-stroke-${i}`],c=D({updating:"Dropin.ProgressSpinner.updating.label",updatingChildren:"Dropin.ProgressSpinner.updatingChildren.label"}),p=()=>a||(t?c.updatingChildren:c.updating);return t?u("div",{...d,className:n(["dropin-progress-spinner-provider"]),"aria-live":"polite",role:"status",children:[e("div",{"aria-hidden":!0,children:t}),e("div",{"aria-label":p(),role:"status",className:n(["dropin-progress-spinner-background",s]),style:l}),e("div",{className:n(["dropin-progress-spinner-with-provider",...o]),"aria-hidden":!0})]}):e("div",{...d,className:n([s,...o]),"aria-live":"polite",role:"status","aria-label":p()})},fe=({className:a,children:r,ariaLabel:i,image:t,title:s,price:l,taxIncluded:d=!1,taxExcluded:o=!1,total:c,totalExcludingTax:p,sku:h,configurations:N,warning:m,alert:w,quantity:v=1,description:C,loading:I=!1,updating:x=!1,onQuantity:f,onRemove:g,...A})=>{var M,q;const{locale:L}=z(K),b=D({each:"Dropin.CartItem.each.label",quantity:"Dropin.CartItem.quantity.label",remove:"Dropin.CartItem.remove.label",removeDefault:"Dropin.CartItem.removeDefault.label",taxIncluded:"Dropin.CartItem.taxIncluded.label",taxExcluded:"Dropin.CartItem.taxExcluded.label",updating:"Dropin.CartItem.updating.label",updatingDefault:"Dropin.ProgressSpinner.updating.label"});return I?e(oe,{}):u("div",{...A,className:n(["dropin-cart-item",["dropin-cart-item--updating",x],a]),children:[x&&e(se,{className:n(["dropin-cart-item__spinner"]),ariaLabel:i?(M=b.updating)==null?void 0:M.replace("{product}",i):b.updatingDefault}),u("div",{className:"dropin-cart-item__wrapper",children:[e(k,{node:t,className:n(["dropin-cart-item__image"])}),e(k,{node:s,className:n(["dropin-cart-item__title",["dropin-cart-item__title--edit",!!f||!!g]])}),C&&e(k,{node:C,className:n(["dropin-cart-item__description"])}),e(k,{node:h,className:n(["dropin-cart-item__sku"])}),N&&e("ul",{className:n(["dropin-cart-item__configurations"]),children:Object.entries(N).map(([E,T])=>u("li",{className:n(["dropin-cart-item__configurations__item"]),children:[E,":"," ",e("strong",{className:n(["dropin-cart-item__configurations__item__value"]),children:T})]},E))}),u("span",{className:n(["dropin-cart-item__price"]),children:[!f&&u("span",{className:"dropin-cart-item__price__quantity",children:[v.toLocaleString(L)," x"," "]}),e(k,{node:l,role:"text"}),v>1&&u(W,{children:[" ",b.each]}),d&&u("span",{"data-testid":"tax-message",className:"dropin-cart-item__price-tax-message",children:[" ",b.taxIncluded]}),o&&u("span",{"data-testid":"tax-message",className:"dropin-cart-item__price-tax-message",children:[" ",b.taxExcluded]})]}),u("div",{className:n(["dropin-cart-item__quantity",["dropin-cart-item__quantity--edit",!!f]]),children:[f?e(ae,{className:n(["dropin-cart-item__quantity__incrementer"]),value:v,min:1,onValue:E=>f==null?void 0:f(Number(E)),name:"quantity","aria-label":b.quantity,disabled:x}):u("span",{className:n(["dropin-cart-item__quantity__value"]),children:[b.quantity,":"," ",e("strong",{className:"dropin-cart-item__quantity__number",children:Number(v).toLocaleString(L)})]}),m&&e(k,{node:m,className:n(["dropin-cart-item__warning","dropin-cart-item__warning--quantity"])}),w&&e(k,{node:w,className:n(["dropin-cart-item__alert","dropin-cart-item__alert--quantity"])})]}),m&&e(k,{node:m,className:n(["dropin-cart-item__warning"])}),w&&e(k,{node:w,className:n(["dropin-cart-item__alert"])}),u("div",{className:n(["dropin-cart-item__total",["dropin-cart-item__total--edit",!!g]]),children:[e("div",{className:"dropin-cart-item__row-total",children:e(k,{node:c,role:"text"})}),d&&u("span",{"data-testid":"tax-message",className:n(["dropin-cart-item__total-tax-message"]),children:[" ",b.taxIncluded]}),o&&e("div",{className:"dropin-cart-item__total-tax-excluded",children:u("span",{"data-testid":"tax-message",className:n(["dropin-cart-item__total-tax-excluded-message"]),children:[p&&e(k,{node:p,role:"text"})," ",b.taxExcluded]})})]})]}),g&&e(V,{className:n(["dropin-cart-item__remove"]),variant:"tertiary",onClick:()=>g==null?void 0:g(),icon:e($,{source:ne,size:"24",stroke:"2",viewBox:"0 0 24 24","aria-label":i?(q=b.remove)==null?void 0:q.replace("{product}",i):b.removeDefault}),disabled:x})]})},oe=()=>e("div",{className:"dropin-cart-item dropin-cart-item-skeleton",children:u(Q,{className:"dropin-cart-item__skeleton dropin-cart-item__wrapper",children:[e("div",{className:"dropin-cart-item__image",children:e(y,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__title",children:e(y,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__sku",children:e(y,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__price",children:e(y,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__quantity",children:e(y,{className:"dropin-cart-item__skeleton__item"})}),e("div",{className:"dropin-cart-item__total",children:e(y,{className:"dropin-cart-item__skeleton__item"})})]})}),Ne=({className:a,children:r,...i})=>e("div",{...i,className:n(["dropin-cart-list",a]),children:e("div",{className:"dropin-cart-list__wrapper","aria-live":"assertive","aria-relevant":"all",children:F.map(r,(t,s)=>e("div",{className:"dropin-cart-list__item",children:t},s))})}),ke=({className:a,children:r,ctaLinkURL:i,...t})=>{const s=D({emptyCart:"Cart.EmptyCart.heading",cta:"Cart.EmptyCart.cta"});return e("div",{...t,className:n(["cart-empty-cart",a]),children:u(ie,{variant:"secondary",className:"cart-empty-cart__wrapper",children:[e("div",{className:"cart-empty-cart__icon",children:e($,{source:te,size:"64"})}),e("div",{className:"cart-empty-cart__heading",children:s.emptyCart}),i&&e("div",{className:"cart-empty-cart__actions",children:e(V,{href:i,children:s.cta})})]})})};export{V as B,Ne as C,he as D,ke as E,ue as I,ge as P,ee as S,re as a,Q as b,y as c,X as d,fe as e};
//# sourceMappingURL=MiniCart__DhyeGlECaM.js.map
