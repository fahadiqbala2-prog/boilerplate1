{"version":3,"file":"ProductDetails.js","sources":["../../../ElsieSDK/packages/elsie/src/lib/debounce.ts","../../../ElsieSDK/packages/elsie/src/lib/i18n.ts","../../../ElsieSDK/packages/elsie/src/icons/ChevronDown.svg","../../../ElsieSDK/packages/elsie/src/icons/Close.svg","../../src/components/Carousel/Carousel.tsx","../../src/components/Product/Product.tsx","../../src/components/GalleryGrid/GalleryGrid.tsx","../../src/components/PriceRange/PriceRange.tsx","../../src/components/Overlay/Overlay.tsx","../../src/components/Swatches/Swatches.tsx","../../src/lib/date.ts","../../src/lib/url-params.ts","../../src/containers/ProductDetails/ProductDetails.tsx"],"sourcesContent":["export const debounce = (fn: Function, ms: number) => {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  return function (this: any, ...args: any[]) {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => fn.apply(this, args), ms);\n  };\n};\n","/**\n * Convert locale from Magento standard to react-intl BCP 47 language tag\n *\n * @param {string} locale - A locale (e.g. `fr_FR`).\n * @returns {string} A BCP 47 language tag (e.g. `fr-FR`).\n */\nexport const toLanguageTag = (locale: string) => {\n  return locale.replace('_', '-');\n};\n","import * as React from \"react\";\nconst SvgChevronDown = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M7.74512 9.87701L12.0001 14.132L16.2551 9.87701\", stroke: \"currentColor\", strokeWidth: 1.5, strokeLinecap: \"square\", strokeLinejoin: \"round\" }));\nexport default SvgChevronDown;\n","import * as React from \"react\";\nconst SvgClose = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M18.3599 5.64001L5.62988 18.37\", stroke: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M18.3599 18.37L5.62988 5.64001\", stroke: \"currentColor\" }));\nexport default SvgClose;\n","import { FunctionComponent, VNode } from 'preact';\nimport {\n  HTMLAttributes,\n  Children,\n  useState,\n  useRef,\n  useEffect,\n  useMemo,\n  useCallback,\n} from 'preact/compat';\nimport { classes, debounce } from '@adobe/elsie/lib';\nimport { Button, Icon } from '@adobe/elsie/components';\nimport { ChevronDown } from '@adobe/elsie/icons';\nimport { useText } from '@adobe/elsie/i18n';\n\nimport '@/pdp/components/Carousel/Carousel.css';\n\ntype Show = number;\n\nexport interface CarouselProps extends Omit<HTMLAttributes<HTMLDivElement>, 'controls'> {\n  children: VNode[] | VNode;\n  thumbnails?: VNode[] | VNode;\n  show?: Show | { small: Show; medium: Show; large: Show };\n  gap?: 'small' | 'medium' | 'large' | null;\n  scrollbar?: boolean;\n  peak?: boolean;\n  arrows?: boolean;\n  controls?: 'thumbnailsRow' | 'thumbnailsColumn' | 'dots' | null;\n  arrowsOnMainImage?: boolean;\n  loop?: boolean;\n  direction?: 'horizontal';\n  style?: Record<string, string | number>;\n  width?: string;\n  height?: string;\n  defaultIndex?: number;\n  infinite?: boolean;\n  isZoomed?: boolean;\n}\n\nexport const Carousel: FunctionComponent<CarouselProps> = ({\n  show = 1,\n  scrollbar = false,\n  peak = false,\n  arrows = false,\n  controls = 'dots',\n  arrowsOnMainImage = false,\n  loop = false,\n  gap = null,\n  direction = 'horizontal',\n  width = '100%',\n  height = '100%',\n  defaultIndex = 0,\n  className,\n  children,\n  thumbnails = null,\n  isZoomed,\n  ...props\n}) => {\n  // i18n\n  const Label = useText('PDP.Carousel.label').label;\n  const SlideLabel = useText('PDP.Carousel.Slide.label').label;\n  const PreviousLabel = useText('PDP.Carousel.Previous.label').label;\n  const NextLabel = useText('PDP.Carousel.Next.label').label;\n  const ControlsLabel = useText('PDP.Carousel.Controls.label').label;\n  const ControlsBtnLabel = useText('PDP.Carousel.Controls.Button.label').label;\n\n  // States\n  const [perPage, setPerPage] = useState(() => getPerPageFromBreakpoint(show));\n\n  // Constants\n  const length = Math.ceil(Children.toArray(children).length / perPage);\n  const gapSizes = { small: 16, medium: 24, large: 64 };\n  const peakWidth = peak ? 24 : 0;\n  const gapWidth = gap ? gapSizes[gap] : 0;\n  const rest = Children.toArray(children).length % perPage;\n  const thumbGap = 16;\n  const thumbSeen = 2;\n  const iconSize = '32';\n\n  // States\n  const [current, setCurrent] = useState(\n    loop ? defaultIndex + 1 : defaultIndex\n  );\n\n  // Thumbnails\n  const thumbnailsRefs = useRef<HTMLLabelElement[]>([]);\n  const [thumbWidth, setThumbWidth] = useState(0);\n  const [thumbHeight, setThumbHeight] = useState(0);\n  \n  const thumbnailSlides = useMemo<VNode[]>(() => {\n    return Children.toArray(thumbnails);\n  }, [thumbnails]);\n\n  // Slides\n  const slides = useMemo<VNode[][]>(() => {\n    const returnValue = Children.toArray(children).reduce((acc, child, i) => {\n      if (i % perPage === 0) {\n        return [...acc, [child]];\n      }\n\n      return [...acc.slice(0, -1), [...acc[acc.length - 1], child]];\n    }, [] as VNode[][]);\n\n    if (!loop || returnValue.length === 1) {\n      return returnValue;\n    }\n\n    if (loop && !(Children.toArray(children).length % perPage !== 0)) {\n      return [returnValue[length - 1]]\n        .concat(returnValue)\n        .concat([returnValue[0], returnValue[1]]);\n    }\n\n    return [Children.toArray(children).slice(-perPage)]\n      .concat(returnValue)\n      .concat([returnValue[0], returnValue[1]]);\n  }, [children, perPage, length, loop]);\n\n  // Wrapper\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const thumbnailsWrapperRef = useRef<HTMLDivElement>(null);\n  const thumbnailControls = controls === 'thumbnailsRow' || controls === 'thumbnailsColumn';\n\n  // Observe Window Resize (responsive)\n  useEffect(() => {\n    const wrapper = document.body;\n\n    const handleResize = debounce(() => {\n      setThumbWidth(wrapperRef.current?.offsetWidth ?? 0)\n      setThumbHeight(wrapperRef.current?.offsetHeight ?? 0)\n      const width = window.innerWidth;\n      const newPerPage = getPerPageFromBreakpoint(show, width);\n\n      if (newPerPage !== perPage) {\n        setPerPage(newPerPage);\n      }\n    }, 50);\n\n    const observer = new ResizeObserver(handleResize);\n    observer.observe(wrapper);\n\n    return () => {\n      observer.unobserve(wrapper);\n    };\n  }, [perPage, show]);\n\n  // Scrolling logic controls\n  const handleThumbnailsScroll = useCallback((nextSlideIndex: number) => {\n    const nextItem = loop ? nextSlideIndex - 1 : nextSlideIndex;\n    const thumbnailRef = thumbnailsRefs?.current[0];\n    const oneItemWidth = thumbnailRef?.offsetWidth + thumbGap;\n    const oneItemHeight = thumbnailRef?.offsetHeight + thumbGap;\n    const thumbnailsWrapper = thumbnailsWrapperRef.current!;\n\n    if (controls === 'thumbnailsRow' && thumbnailsWrapper?.offsetWidth) {\n      if (oneItemWidth * (nextItem + 1) > thumbnailsWrapper.offsetWidth) {\n        thumbnailsWrapper.style.scrollBehavior = 'smooth';\n        thumbnailsWrapper.scrollLeft = (nextItem + thumbSeen) * oneItemWidth;\n      }\n\n      if (thumbnailsWrapper.scrollLeft > oneItemWidth * nextItem) {\n        thumbnailsWrapper.style.scrollBehavior = 'smooth';\n        thumbnailsWrapper.scrollLeft = (nextItem - thumbSeen) * oneItemWidth;\n      }\n    }\n\n    if (controls === 'thumbnailsColumn' && thumbnailsWrapper?.offsetHeight) {\n      if (oneItemHeight * (nextItem + 1) > thumbnailsWrapper.offsetHeight) {\n        thumbnailsWrapper.style.scrollBehavior = 'smooth';\n        thumbnailsWrapper.scrollTop = (nextItem + thumbSeen) * oneItemHeight;\n      }\n\n      if (thumbnailsWrapper.scrollTop > oneItemHeight * nextItem) {\n        thumbnailsWrapper.style.scrollBehavior = 'smooth';\n        thumbnailsWrapper.scrollTop = (nextItem - thumbSeen) * oneItemHeight;\n      }\n    }\n  }, [controls, loop]);\n\n  // Navigation\n  const handleScrollTo = useCallback(\n    (nextSlideIndex: number, smooth?: boolean, reset?: boolean) => {\n      if (controls === 'thumbnailsRow' || controls === 'thumbnailsColumn') {\n        handleThumbnailsScroll(nextSlideIndex);\n      }\n\n      const wrapper = wrapperRef.current!;\n      const realWidth = peakWidth\n        ? wrapper.offsetWidth - peakWidth\n        : wrapper.offsetWidth - peakWidth + gapWidth;\n\n      const items = Array.from(wrapper.querySelectorAll('[data-index]')).filter(\n        (element) => {\n          const dataIndex = Number(element.getAttribute('data-index')!);\n          return !isNaN(dataIndex) && dataIndex > -1;\n        }\n      );\n\n      const item = items[nextSlideIndex];\n\n      if (!item) {\n        return;\n      }\n\n      if (reset) {\n        const futureIndex = nextSlideIndex === 0 ? length : 0;\n        const scrollWidth =\n          realWidth * (length + (rest ? rest : perPage) / perPage);\n\n        if (wrapper.scrollLeft >= 0 && wrapper.scrollLeft < realWidth - 5) {\n          handleScrollTo(1, true);\n          return;\n        }\n\n        if (\n          wrapper.scrollLeft > scrollWidth - realWidth &&\n          wrapper.scrollLeft <= scrollWidth\n        ) {\n          handleScrollTo(length, true);\n          return;\n        }\n\n        wrapper.style.scrollBehavior = 'auto';\n        wrapper.scrollLeft = futureIndex === 0 ? 0 : scrollWidth;\n        handleScrollTo(futureIndex === 0 ? 1 : length, true);\n        return;\n      }\n\n      const diff =\n        ((wrapper.offsetWidth - gapWidth) / perPage) *\n        slides[nextSlideIndex].length -\n        peakWidth;\n\n      wrapper.style.scrollBehavior = smooth ? 'smooth' : 'auto';\n      wrapper.scrollLeft =\n        slides[nextSlideIndex].length === perPage\n          ? realWidth * nextSlideIndex\n          : realWidth * (nextSlideIndex - 1) + diff;\n      return;\n    },\n    [gapWidth, length, peakWidth, perPage, rest, slides, handleThumbnailsScroll, controls]\n  );\n\n  const handleGoToPrev = useCallback(() => {\n    if (loop) {\n      const nextSlideIndex = current - 1;\n      handleScrollTo(nextSlideIndex, true, current === 1);\n      return;\n    }\n\n    const nextSlideIndex = current <= 0 ? 0 : current - 1;\n\n    handleScrollTo(nextSlideIndex, true);\n  }, [current, handleScrollTo, loop]);\n\n  const handleGoToNext = useCallback(() => {\n    const lastSlideIndex = slides.length - 1;\n\n    if (loop) {\n      const nextSlideIndex = current + 1;\n      handleScrollTo(nextSlideIndex, true, current === length);\n      return;\n    }\n\n    const nextSlideIndex =\n      current >= lastSlideIndex ? lastSlideIndex : current + 1;\n\n    handleScrollTo(nextSlideIndex, true);\n  }, [slides.length, loop, current, handleScrollTo, length]);\n\n  // Navigate with keyboard\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'ArrowLeft') {\n        event.preventDefault();\n        handleGoToPrev();\n      }\n\n      if (event.key === 'ArrowRight') {\n        event.preventDefault();\n        handleGoToNext();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleGoToNext, handleGoToPrev]);\n\n  // Set default index\n  useEffect(() => {\n    handleScrollTo(loop ? defaultIndex + 1 : defaultIndex, false);\n  }, [defaultIndex, handleScrollTo, loop]);\n\n  // Track scrolling (swipes)\n  const handleOnScroll = debounce(() => {\n    const wrapper = wrapperRef.current!;\n    const realWidth = peakWidth\n      ? wrapper.offsetWidth - peakWidth\n      : wrapper.offsetWidth - peakWidth + gapWidth;\n    const dividing = wrapper.scrollLeft / realWidth;\n    const nextSlideIndex = Math.round(dividing) - dividing < 1 ? Math.round(dividing) : Math.ceil(dividing);\n\n    if (thumbnailControls) {\n      handleThumbnailsScroll(nextSlideIndex);\n    }\n\n    if (loop) {\n      const totalWidth =\n        realWidth * (length + (rest ? rest : perPage) / perPage);\n\n      if (Math.ceil(wrapper.scrollLeft) >= Math.ceil(totalWidth) - 5) {\n        wrapper.style.scrollBehavior = 'auto';\n        wrapper.scrollLeft =\n          wrapper.offsetWidth * 1 +\n          (Math.ceil(wrapper.scrollLeft) - Math.ceil(totalWidth) - peakWidth);\n        return;\n      }\n\n      if (wrapper.scrollLeft === 0) {\n        wrapper.style.scrollBehavior = 'auto';\n        wrapper.scrollLeft = totalWidth - wrapper.offsetWidth + peakWidth;\n        return;\n      }\n    }\n\n    if (current !== nextSlideIndex) {\n      setCurrent(nextSlideIndex);\n    }\n  }, 100);\n\n  useEffect(() => {\n    const wrapper = wrapperRef.current;\n    wrapper?.addEventListener('scroll', handleOnScroll);\n\n    return () => {\n      wrapper?.removeEventListener('scroll', handleOnScroll);\n    };\n  }, [handleOnScroll]);\n\n  // thumbnails is column -> container is row reverse, controls is column\n  // thumbnails is row -> container is column, controls is row\n  const getArrow = (forThumbnails: boolean, direction: string, callback: () => void) => {\n    return <Button\n      className={classes([\n        ['pdp-carousel__button', !forThumbnails],\n        [`pdp-carousel__button--${direction}`, !forThumbnails],\n        [`pdp-carousel__button--${controls}`, forThumbnails]\n      ])}\n      style={{\n        '--height': `${thumbHeight}px`,\n      }}\n      variant=\"tertiary\"\n      aria-label={direction === 'next' ? NextLabel : PreviousLabel}\n      onClick={callback}\n      disabled={loop ? false : direction === 'next' ?  current >= slides.length - 1 : current < 1}\n    >\n      <Icon\n        className={classes([\n          ['pdp-carousel__button__icon', !forThumbnails],\n          [`pdp-carousel__button__icon--${direction}`, !forThumbnails],\n          [`pdp-carousel__button__icon--${controls}--${direction}`, forThumbnails]\n        ])}\n        size={iconSize}\n        source={ChevronDown}\n      />\n    </Button>\n  }\n\n  const prevArrow = arrows && slides.length != 1 && getArrow(thumbnailControls, 'prev', handleGoToPrev);\n\n  const nextArrow = arrows && slides.length != 1 && getArrow(thumbnailControls, 'next', handleGoToNext);\n\n  const prevArrowMainImage = arrows && slides.length != 1 && getArrow(false, 'prev', handleGoToPrev);\n  \n  const nextArrowMainImage = arrows && slides.length != 1 && getArrow(false, 'next', handleGoToNext);\n\n  return (\n    <div\n      role=\"region\"\n      aria-roledescription={Label}\n      className={classes([\n        'pdp-carousel',\n        ['pdp-carousel--main-image-controls', arrowsOnMainImage],\n        ['pdp-carousel--arrows', arrows && !thumbnailControls],\n        [`pdp-carousel--${controls}`, thumbnailControls],\n        className,\n      ])}\n      style={{\n        '--flex-carousel': controls === 'thumbnailsColumn' ? 'row-reverse' : 'column',\n        '--gap': thumbnailControls ? '0' : 'var(--spacing-small)',\n        '--width': width,\n      }}\n      {...props}\n    >\n\n      {/* Slideshow */}\n      <div\n        ref={wrapperRef}\n        className={classes([\n          'pdp-carousel__wrapper',\n          `pdp-carousel__wrapper--${direction}`,\n          ['pdp-carousel__wrapper--scrollbar', scrollbar],\n          ['pdp-carousel__wrapper--peak', peak],\n        ])}\n        style={{\n          '--total-width': controls === 'thumbnailsColumn' ? `81.6%` : `100%`,\n          '--height': controls === 'thumbnailsColumn' ? 'auto' : height,\n          '--gap': gap ? `var(--spacing-${gap})` : '0px',\n          '--per-page': perPage,\n        }}\n        tabIndex={0}\n      >\n        {slides.map((page, index) => {\n          const orphan = page.length < perPage;\n\n          return (\n            <div\n              key={index}\n              role=\"group\"\n              aria-roledescription={SlideLabel}\n              data-index={index}\n              className={classes([\n                'pdp-carousel__slide',\n                `pdp-carousel__slide--${direction}`,\n                ['pdp-carousel__slide--active', current === index],\n                ['pdp-carousel__slide--orphan', orphan],\n              ])}\n              style={{\n                '--length': page.length,\n              }}\n            >\n              {page}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Previous and next arrows for Carousel without thumbnails */}\n      {\n        (!thumbnailControls) && (\n          <>\n            {prevArrow}\n            {nextArrow}\n          </>\n        )\n      }\n\n      {\n        (thumbnailControls && arrowsOnMainImage) && (\n          <>\n            {prevArrowMainImage}\n            {nextArrowMainImage}\n          </>\n        )\n      }\n\n      {/* Controls */}\n      {controls && slides.length != 1 && (\n        <div\n          className={classes([\n            [`pdp-carousel__controls__container--${controls}`, thumbnailControls],\n            ['pdp-carousel__controls__container--no-arrows', !arrows || arrowsOnMainImage],\n          ])}\n          style={{\n            '--width': controls === 'thumbnailsRow' ? `${thumbWidth}px` : width,\n            '--height': `${thumbHeight}px`,\n            '--nr-thumbnails': thumbnailSlides.length,\n          }}\n        >\n          {(thumbnailControls || isZoomed) && !arrowsOnMainImage && prevArrow}\n          <div\n            ref={thumbnailsWrapperRef}\n            className={classes([\n              [`pdp-carousel__controls__wrapper--${controls}`, thumbnailControls],\n              [`pdp-carousel__controls__wrapper`, thumbnailControls],\n            ])}\n          >\n            <div\n              role=\"group\"\n              aria-label={ControlsLabel}\n              className={classes([\n                'pdp-carousel__controls',\n                [`pdp-carousel__controls--${controls}`, thumbnailControls],\n              ])}\n            >\n              {(loop ? slides.slice(0, length) : slides).map((_, key) => {\n                const buttonsLength = loop ? length : slides.length;\n                const active = loop ? current - 1 === key : current === key;\n\n                if (!thumbnailControls) {\n                  return (\n                    <button\n                      key={key}\n                      aria-label={ControlsBtnLabel.replace(\n                        '{key}',\n                        String(key + 1)\n                      ).replace('{total}', String(buttonsLength))}\n                      onClick={() => {\n                        handleScrollTo(loop ? key + 1 : key, true);\n                      }}\n                      className={classes([\n                        'pdp-carousel__controls__button',\n                        ['pdp-carousel__controls__button--active', active],\n                      ])}\n                    />\n                  );\n                }\n                return (\n                  <label\n                    className={classes(['pdp-carousel__thumbnail__container'])}\n                    key={key}\n                    ref={(el: HTMLLabelElement | null) => {\n                      if (el) {\n                        thumbnailsRefs.current[key] = el;\n                      }\n                    }}\n                  >\n                    <input\n                      type=\"radio\"\n                      name={\"carousel-thumbnails\"}\n                      aria-label={ControlsBtnLabel.replace(\n                        '{key}',\n                        String(key + 1)\n                      ).replace('{total}', String(buttonsLength))}\n                      checked={active && thumbWidth !== 0}\n                      onChange={() => {\n                        handleScrollTo(loop ? key + 1 : key, true);\n                      }}\n                      {...props}\n                      className={classes([\n                        'pdp-carousel__thumbnail',\n                        ['pdp-carousel__thumbnail--selected', active && thumbWidth !== 0],\n                      ])}\n                    />\n\n                    <span\n                      className={classes([\n                        'pdp-carousel__thumbnail__span',\n                      ])}\n                    >\n                      {thumbnailSlides[key]}\n                    </span>\n                  </label>\n                )\n              })}\n            </div>\n          </div>\n          {(thumbnailControls || isZoomed) && !arrowsOnMainImage && nextArrow}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Utilities\nfunction getPerPageFromBreakpoint(\n  breakpoints:\n    | {\n      small: number;\n      medium: number;\n      large: number;\n    }\n    | number,\n  width = 0\n) {\n  if (typeof breakpoints === 'number') return breakpoints;\n\n  const { small, medium, large } = breakpoints;\n  const mediumViewport = 786;\n  const largeVierport = 1024;\n\n  if (width > largeVierport) return large;\n  if (width > mediumViewport) return medium;\n  return small;\n}\n","import { FunctionComponent, VNode } from 'preact';\nimport { HTMLAttributes, useState } from 'preact/compat';\nimport { classes, VComponent } from '@adobe/elsie/lib';\nimport { useText } from '@adobe/elsie/i18n';\n\nimport { Carousel, GalleryGrid, Overlay } from '@/pdp/components';\nimport '@/pdp/components/Product/Product.css';\n\nimport { CarouselConfig } from '@/pdp/containers';\n\ninterface ProductCarouselConfig extends CarouselConfig {\n  thumbnails: VNode[];\n}\n\nexport interface ProductProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, 'title'> {\n  title?: VNode;\n  breadcrumbs?: VNode;\n  galleryContent?: VNode;\n  infoContent?: VNode;\n  productContent?: VNode;\n  shortDescription?: VNode;\n  description?: VNode;\n  attributes?: VNode;\n  images: VNode[];\n  options?: VNode;\n  sku?: VNode;\n  price?: VNode;\n  specialPrice?: VNode;\n  outOfStock: boolean;\n  hideSku?: boolean;\n  actions?: VNode;\n  quantity?: VNode;\n  carouselConfig?: ProductCarouselConfig;\n}\n\nexport const Product: FunctionComponent<ProductProps> = ({\n  title,\n  breadcrumbs,\n  galleryContent,\n  infoContent,\n  productContent,\n  sku,\n  outOfStock,\n  hideSku,\n  shortDescription,\n  description,\n  attributes,\n  images,\n  options,\n  price,\n  specialPrice,\n  className,\n  children,\n  quantity,\n  actions,\n  carouselConfig,\n  ...props\n}) => {\n  // i18n\n  const RegularPriceLabel = useText('PDP.Product.RegularPrice.label').label;\n  const SpecialPriceLabel = useText('PDP.Product.SpecialPrice.label').label;\n  const OutOfStockLabel = useText('PDP.Product.OutOfStock.label').label;\n  const ImagesLabel = useText('PDP.Product.Image.label').label;\n\n  const [zoom, setZoom] = useState<number | null>(null);\n\n  const galleryImages = images?.length ? (\n    images.map((image, key) => (\n      <VComponent\n        key={key}\n        node={image}\n        loading={key === 0 ? 'eager' : 'lazy'}\n        alt={\n          title?.props?.children &&\n          ImagesLabel?.replace('{product}', title.props.children.toString())\n            .replace('{key}', String(key + 1))\n            .replace('{total}', String(images.length))\n        }\n        onClick={() => setZoom(key)}\n      />\n    ))\n  ) : (\n    <img\n      src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\n      className=\"pdp-product__images__placeholder\"\n      aria-hidden\n    />\n  );\n\n  const localThumbnailsImages = carouselConfig?.thumbnails?.length ? (\n    carouselConfig.thumbnails.map((image, key) => (\n      <VComponent\n        key={key}\n        node={image}\n        loading={carouselConfig?.thumbnailsLoadingMode || 'lazy'}\n        alt={\n          title?.props?.children &&\n          ImagesLabel?.replace('{product}', title.props.children.toString())\n            .replace('{key}', String(key + 1))\n            .replace('{total}', String(images.length))}\n      />\n    ))\n  ) : (\n    <img\n      src=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\"\n      className=\"pdp-product__images__placeholder\"\n      aria-hidden\n    />\n  );\n\n  return (\n    <div {...props} className={classes(['pdp-product', className])}>\n      {breadcrumbs && (\n        <VComponent node={breadcrumbs} className=\"pdp-product__breadcrumbs\" />\n      )}\n      <div className=\"pdp-product__column-container pdp-product__gallery-column\">\n        <div className=\"pdp-product__column-body\">\n          {\n            carouselConfig?.controls ?\n              <Carousel\n                className=\"pdp-product__overlay__carousel\"\n                arrows={images?.length > 1}\n                controls={images?.length > 1 ? carouselConfig.controls : 'dots'}\n                arrowsOnMainImage={carouselConfig?.arrowsOnMainImage}\n                loop={carouselConfig?.loopable && images?.length > 1}\n                peak={carouselConfig?.thumbnails?.length > 1 && carouselConfig?.peak?.desktop || false}\n                gap={carouselConfig?.gap || null}\n                width=\"100%\"\n                height=\"100%\"\n                defaultIndex={zoom || 0}\n                thumbnails={localThumbnailsImages}\n              >\n                {galleryImages}\n              </Carousel>\n              :\n              <GalleryGrid className=\"pdp-product__images\" gap=\"small\">\n                {galleryImages}\n              </GalleryGrid>\n          }\n        </div>\n        {galleryContent && (\n          <VComponent\n            node={galleryContent}\n            className=\"pdp-product__gallery-content\"\n          />\n        )}\n      </div>\n\n      <div className=\"pdp-product__column-container pdp-product__content-column\">\n        <div className=\"pdp-product__column-body\">\n          <div className=\"pdp-product__header\">\n            {title && (\n              <VComponent\n                node={title}\n                className=\"pdp-product__title\"\n              />\n            )}\n\n            {!hideSku && sku && (\n              <VComponent node={sku} className=\"pdp-product__sku\" />\n            )}\n          </div>\n\n          <div className=\"pdp-product__prices\">\n            {specialPrice && (\n              <VComponent\n                node={specialPrice}\n                className={classes(['pdp-product__price-special', 'pdp-product__price'])}\n                aria-label={SpecialPriceLabel}\n                role=\"text\"\n              />\n            )}\n            {price && (\n              <VComponent\n                node={price}\n                className={classes(['pdp-product__price-regular', 'pdp-product__price--grey'])}\n                aria-label={RegularPriceLabel}\n                role=\"text\"\n              />\n            )}\n          </div>\n\n          {/* Small Screen Gallery */}\n          {\n            carouselConfig?.mobile ?\n              <Carousel\n                className=\"pdp-product__images pdp-product__images--carousel pdp-product__images--carousel--thumbnails\"\n                width=\"100%\"\n                height=\"auto\"\n                arrows={images?.length > 1}\n                controls={images?.length > 1 ? 'thumbnailsRow' : null}\n                loop={carouselConfig?.loopable && images?.length > 1}\n                peak={carouselConfig?.thumbnails?.length > 1 && carouselConfig?.peak?.mobile || false}\n                gap={carouselConfig?.gap || null}\n                thumbnails={localThumbnailsImages}\n              >\n                {galleryImages}\n              </Carousel>\n              :\n              <Carousel\n                className=\"pdp-product__images pdp-product__images--carousel\"\n                peak={carouselConfig?.peak?.mobile && images?.length > 1}\n                gap={carouselConfig?.gap || null}\n                width=\"100%\"\n                height=\"auto\"\n                arrows={images?.length > 1}\n                controls={images?.length > 1 ? 'dots' : null}\n                loop={carouselConfig?.loopable && images?.length > 1}\n              >\n                {galleryImages}\n              </Carousel>\n          }\n\n          <div\n            className={classes([\n              'pdp-product__actions',\n              [`pdp-product__actions--out-of-stock`, outOfStock],\n            ])}\n          >\n            {outOfStock && (\n              <div className=\"pdp-product__out-of-stock__text\">\n                {OutOfStockLabel}\n              </div>\n            )}\n\n            {options && (\n              <VComponent\n                node={options}\n                className={classes(['pdp-product__options'])}\n              />\n            )}\n\n            {quantity && (\n              <div className=\"pdp-product__quantity\">\n                <VComponent node={quantity} />\n              </div>\n            )}\n\n            {actions && (\n              <VComponent\n                node={actions}\n                className={classes(['pdp-product__buttons'])}\n              />\n            )}\n          </div>\n\n          {shortDescription && (\n            <VComponent\n              node={shortDescription}\n              className={classes(['pdp-product__short_description'])}\n            />\n          )}\n\n          {description && (\n            <VComponent\n              node={description}\n              className={classes(['pdp-product__description'])}\n            />\n          )}\n\n          {attributes ? (\n            <div className=\"pdp-product__attributes\">{attributes}</div>\n          ) : null}\n        </div>\n        {infoContent && (\n          <VComponent\n            node={infoContent}\n            className=\"pdp-product__info-content\" />\n        )}\n      </div>\n\n      {productContent && (\n        <VComponent\n          node={productContent}\n          className=\"pdp-product__content\"\n        />\n      )}\n\n      {/* Zoom Overlay */}\n      {zoom === null ? null : (\n        <Overlay\n          className=\"pdp-product__overlay\"\n          onClose={() => setZoom(null)}\n          centered\n        >\n          <Carousel\n            className=\"pdp-product__overlay__carousel\"\n            arrows={images?.length > 1}\n            width=\"100%\"\n            height=\"100%\"\n            defaultIndex={zoom || 0}\n            loop={images?.length > 1}\n            controls={images?.length > 1 ? 'dots' : null}\n            isZoomed\n          >\n            {galleryImages}\n          </Carousel>\n        </Overlay>\n      )}\n    </div>\n  );\n};\n","import { FunctionComponent, VNode } from 'preact';\nimport { HTMLAttributes, Children } from 'preact/compat';\nimport { classes, VComponent } from '@adobe/elsie/lib';\nimport '@/pdp/components/GalleryGrid/GalleryGrid.css';\n\nexport interface GalleryGridProps extends HTMLAttributes<HTMLDivElement> {\n  children: VNode[] | VNode;\n  gap?: 'small' | 'medium' | 'large' | null;\n  style?: Record<string, string | number>;\n}\n\nexport const GalleryGrid: FunctionComponent<GalleryGridProps> = ({\n  children,\n  gap = null,\n  className,\n  style,\n  ...props\n}) => {\n  const count = Children.count(children);\n\n  return (\n    <div\n      {...props}\n      className={classes(['pdp-gallery-grid', className])}\n      style={{\n        '--gap': gap ? `var(--spacing-${gap})` : '0px',\n        ...style,\n      }}\n    >\n      {Children.map(\n        children,\n        (child: VNode<HTMLAttributes<HTMLElement>>, key) => (\n          <div key={count + key} className=\"pdp-gallery-grid__item\">\n            <VComponent\n              key={child.props.src}\n              node={child}\n              loading={key === 0 ? 'eager' : 'lazy'}\n            />\n          </div>\n        )\n      )}\n    </div>\n  );\n};\n","/*\nADOBE CONFIDENTIAL\nCopyright 2023 Adobe\nAll Rights Reserved.\nNOTICE: All information contained herein is, and remains\nthe property of Adobe and its suppliers, if any. The intellectual\nand technical concepts contained herein are proprietary to Adobe\nand its suppliers and are protected by all applicable intellectual\nproperty laws, including trade secret and copyright laws.\nDissemination of this information or reproduction of this material\nis strictly forbidden unless prior written permission is obtained\nfrom Adobe.\n*/\n\nimport { HTMLAttributes } from 'preact/compat';\nimport '@/pdp/components/PriceRange/PriceRange.css';\nimport { FunctionalComponent } from 'preact';\nimport { Price } from '@adobe/elsie/components';\n\nexport interface PriceRangeProps extends HTMLAttributes<HTMLDivElement> {\n  locale?: string;\n  variant?: 'default' | 'strikethrough';\n  currency?: string;\n\n  // Simple product\n  amount?: number;\n  sale?: boolean;\n\n  // Complex product (range)\n  minimumAmount?: number;\n  maximumAmount?: number;\n}\n\nexport const PriceRange: FunctionalComponent<PriceRangeProps> = ({\n  amount,\n  currency,\n  locale,\n  variant,\n  sale,\n  minimumAmount,\n  maximumAmount,\n  className,\n  ...props\n}) => {\n  return (\n    <>\n      {amount || minimumAmount === maximumAmount ? (\n        <div className={'pdp-price-range'} {...props}>\n          <Price\n            amount={amount ? amount : minimumAmount}\n            currency={currency}\n            locale={locale}\n            variant={variant}\n            sale={sale}\n            className={className}\n          />\n        </div>\n      ) : (\n        <div className={'pdp-price-range'} {...props}>\n          <Price\n            amount={minimumAmount}\n            currency={currency}\n            locale={locale}\n            className={className}\n          />\n          <span className=\"pdp-price-range__label\">{'-'}</span>\n          <Price\n            amount={maximumAmount}\n            currency={currency}\n            locale={locale}\n            className={className}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { HTMLAttributes, useCallback, useEffect } from 'preact/compat';\nimport { classes } from '@adobe/elsie/lib';\nimport { useText } from '@adobe/elsie/i18n';\nimport { Close as CloseSVG } from '@adobe/elsie/icons';\nimport { Button } from '@adobe/elsie/components';\n\nimport '@/pdp/components/Overlay/Overlay.css';\n\nexport interface OverlayProps extends HTMLAttributes<HTMLDivElement> {\n  centered?: boolean;\n  onClose?: () => void;\n}\n\nexport const Overlay: FunctionComponent<OverlayProps> = ({\n  centered,\n  onClose,\n  className,\n  children,\n  ...props\n}) => {\n  // i18n\n  const CloseLabel = useText('PDP.Overlay.Close.label').label;\n\n  const handleOnClose = useCallback(() => {\n    onClose?.();\n  }, [onClose]);\n\n  // Close on ESC\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        handleOnClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleOnClose]);\n\n  // Prevent document scrolling\n  useEffect(() => {\n    const scrollingElement = document.scrollingElement as HTMLElement;\n\n    const defaultOverflowValue = scrollingElement.style.overflow;\n\n    scrollingElement.style.overflow = 'hidden';\n\n    return () => {\n      scrollingElement.style.overflow = defaultOverflowValue;\n    };\n  }, []);\n\n  return (\n    <div\n      {...props}\n      className={classes([\n        'pdp-overlay',\n        ['pdp-overlay--centered', centered],\n        className,\n      ])}\n    >\n      <div className=\"pdp-overlay__content\">{children}</div>\n\n      <Button\n        aria-label={CloseLabel}\n        variant=\"tertiary\"\n        className=\"pdp-overlay__close-button\"\n        onClick={handleOnClose}\n        icon={<CloseSVG />}\n      />\n    </div>\n  );\n};\n","import { FunctionComponent } from 'preact';\nimport { HTMLAttributes, useState, useMemo, useCallback, useEffect } from 'preact/compat';\nimport { classes } from '@adobe/elsie/lib';\nimport { useText } from '@adobe/elsie/i18n';\nimport { ColorSwatch, ImageSwatch, TextSwatch, Picker, PickerOption } from '@adobe/elsie/components';\n\nimport '@/pdp/components/Swatches/Swatches.css';\n\nconst supportedTypes = ['text', 'image', 'color', 'dropdown'];\n\nconst mapToPickerOptions = (items: OptionValue[]): PickerOption[] => {\n    return items.map((item: OptionValue) => ({ ...item, text: item.label, disabled: !item.inStock, }));\n}\n\ntype OptionValue = {\n  id: string;\n  label: string;\n  inStock: boolean;\n  value: string;\n  selected?: boolean;\n};\n\nexport type Option = {\n    id: string;\n    type: (typeof supportedTypes)[number];\n    label: string;\n    required?: boolean;\n    multiple?: boolean;\n    items: OptionValue[];\n};\n\ntype Selection = { [id: string]: { label: string; value: string } };\n\nexport interface SwatchesProps extends HTMLAttributes<HTMLDivElement> {\n  options: Array<{\n    id: string;\n    type: (typeof supportedTypes)[number];\n    label: string;\n    required?: boolean;\n    multiple?: boolean;\n    items: OptionValue[];\n  }>;\n  hideSelectedValue?: boolean;\n\n  defaultOptions?: string[];\n  selectionsToUpdate?: Option[];\n  onValues?: (uids: Selection, current: string) => void;\n  onErrors?: (errors: { [id: string]: string }) => void;\n}\n\nexport const Swatches: FunctionComponent<SwatchesProps> = ({\n  options,\n  hideSelectedValue,\n  onValues,\n  onErrors,\n  defaultOptions,\n  selectionsToUpdate,\n  className,\n  children,\n  ...props\n}) => {\n  // i18n\n  const RequiredLabel = useText('PDP.Swatches.Required.label').label;\n\n  const [selections, setSelections] = useState<Selection>(() => {\n    const initial = options?.reduce((accum, option) => {\n      const { items } = option;\n      const defaultSelection = items?.find((item) => defaultOptions?.includes(item.id));\n      const selected = items?.find((item) => item.selected);\n      if (defaultSelection) {\n            return {\n                ...accum,\n                [option.id]: { label: defaultSelection.label, value: defaultSelection.id },\n            };\n        } else if (selected) {\n            return {\n                ...accum,\n                [option.id]: { label: selected.label, value: selected.id },\n            };\n        }\n      return accum;\n    }, {} as Selection);\n\n    return initial;\n  });\n\n  // this only applies for the case with anchor options\n  // update selections in the swatches if they are updated in the parent component\n  useEffect(() => {\n    selectionsToUpdate?.forEach((selectionToUpdate) => {\n      setSelections((prev) => {\n        const selectedItem = selectionToUpdate\n          ?.items?.find((item) => item.selected);\n        if (!selectedItem) return prev;\n\n        const next = {\n          ...prev,\n          [selectionToUpdate.id]: {\n            label: selectedItem?.label,\n            value: selectedItem?.id\n          },\n        };\n        return next;\n      });\n    });\n  }, [selectionsToUpdate, setSelections]);\n\n  // Update invalid options\n  useMemo(() => {\n    const errors = options?.reduce((accum, option) => {\n      option?.items?.forEach((item) => {\n        const selected = selections[option.id]?.value === item.id;\n\n        // Validate required\n        if (option.required && !selected) {\n          accum[option.id] = RequiredLabel;\n        }\n      });\n\n      return accum;\n    }, {} as { [id: string]: string });\n\n    // Call the callback\n    onErrors?.(errors);\n\n    return errors;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selections]);\n\n  const handleOnSelection = useCallback(\n    (id: string, label: string, optionId: string) => {\n      setSelections((prev) => {\n        const next = {\n          ...prev,\n          [id]: { label, value: optionId },\n        };\n\n        // Call the callback\n        onValues?.(next, optionId);\n\n        // Return the next state\n        return next;\n      });\n    },\n    [onValues]\n  );\n\n  // Function to handle the picker selection\n  const handlePickerSelect = (optionId: string, selection: any ) => {\n    const label = selection.selectedOptions[0]?.label  ?? '';\n    handleOnSelection(optionId, label, selection.value);\n  };\n\n  const Swatches = useCallback(\n    ({ items, id, required, type, selected, label }: any) => {\n      return (\n        <div className={classes(['pdp-swatches__options'])}>\n          {\n          type?.toLowerCase() === 'dropdown' ?\n          <Picker aria-label={label} handleSelect={(event) => handlePickerSelect(id, event.target)} options={mapToPickerOptions(items)} value={selected} />\n          :\n          items?.map((option: any) => {\n            const common = {\n              key: option.id,\n              id: option.id,\n              name: id,\n              value: option.value,\n              label: option.label,\n              groupAriaLabel: label,\n              selected: selected === option.id,\n              outOfStock: !option.inStock,\n              // API may return null, we default to true as all swatches are required.\n              //  we still comply to this in case the api return \"false\".\n              required: required === null ? true : required,\n              onValue: () => {\n                handleOnSelection(id, option.label, option.id);\n              },\n            };\n\n            switch (type) {\n              case 'text':\n                return <TextSwatch {...common} label={option.label} />;\n\n              case 'image':\n                return (\n                  <ImageSwatch\n                    {...common}\n                    src={option.value}\n                    alt={option.label}\n                  />\n                );\n\n              case 'color':\n                return (\n                  <ColorSwatch {...common} size=\"large\" color={option.value} />\n                );\n\n              default:\n                console.warn(`Invalid swatch type ${type}`);\n                return null;\n            }\n          })}\n        </div>\n      );\n    },\n    [handleOnSelection]\n  );\n\n  return (\n    <div {...props} className={classes(['pdp-swatches', className])}>\n      {options?.map(({ type, label, id, multiple, required, items }) => {\n        if (!type) {\n          console.warn(`Bundle product not supported on UI.`);\n          return;\n        }\n\n        // Only render supported types\n        if (!supportedTypes.includes(type)) {\n          console.warn(`Invalid swatch type ${type}`);\n        }\n\n        if (multiple) {\n          console.warn(\n            'Multiple selection swatches are not currently supported.'\n          );\n        }\n\n        return (\n          <div\n            key={`swatch-item-${id}`}\n            id={`swatch-item-${id}`}\n            data-slot-key={`product-swatch--${id}`}\n            className=\"pdp-swatches__field\"\n          >\n            <div className=\"pdp-swatches__field__label\">\n              {selections[id] ? (hideSelectedValue ? `${label}` : `${label}: ${selections[id].label}`) : label}\n            </div>\n\n            <Swatches\n              id={id}\n              type={type}\n              required={required}\n              items={items}\n              label={label} //label referring to the name of the swatchGroup\n              selected={selections[id]?.value}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import { toLanguageTag } from '@adobe/elsie/lib';\n\nexport function toDateString(value: string, locale = 'en_US') {\n  if (!isDateValid(value)) throw Error('Invalid date string');\n\n  // normalize time to 00:00:00\n  const time = value.split(' ')[1];\n  if (!time) value = `${value} 00:00:00`;\n\n  return new Date(value).toLocaleDateString(toLanguageTag(locale)).toString();\n}\n\nexport function isDateValid(dateString: string) {\n  const acceptedFormats = [\n    /^\\d{4}-\\d{2}-\\d{2}$/, // YYYY-MM-DD\n    /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/, // MM/DD/YYYY\n    /^\\d{2}\\/\\d{2}\\/\\d{4}$/, // MM/DD/YYYY\n    /^\\d{4}\\/\\d{2}\\/\\d{2}$/, // YYYY/MM/DD\n    /^\\d{1,2}\\.\\d{1,2}\\.\\d{4}$/, // DD.MM.YYYY\n    /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/, // YYYY-MM-DD HH:mm:ss\n  ];\n\n  if (!acceptedFormats.some((format) => format.test(dateString))) return false;\n\n  const date = new Date(dateString);\n  return !isNaN(date.getTime());\n}\n","export function setUrlParams(\n  params: Record<string, string | number | null>\n): void {\n  const urlSearchParams = new URLSearchParams(window.location.search);\n\n  Object.entries(params).forEach(([key, value]) => {\n    if (value === null) {\n      urlSearchParams.delete(key);\n    } else {\n      urlSearchParams.set(key, String(value));\n    }\n  });\n\n  let url = window.location.pathname;\n  url += `?${urlSearchParams.toString()}`;\n  url += window.location.hash;\n\n  window.history.replaceState({}, '', url);\n}\n\nexport function getUrlParams(): Record<string, string> {\n  const urlSearchParams = new URLSearchParams(window.location.search);\n  const params: Record<string, string> = {};\n\n  urlSearchParams.forEach((value, key) => {\n    params[key] = value;\n  });\n\n  return params;\n}\n","import {\n  HTMLAttributes,\n  useEffect,\n  useState,\n  useCallback,\n  useMemo,\n} from 'preact/compat';\n\nimport {\n  Container,\n  toLanguageTag,\n  SlotProps,\n  SlotMethod,\n  Slot,\n  ResolveImageUrlOptions,\n} from '@adobe/elsie/lib';\n\nimport {\n  Button,\n  Icon,\n  ButtonProps,\n  Image,\n  Incrementer,\n  Breadcrumbs,\n} from '@adobe/elsie/components';\nimport { Product, Swatches, PriceRange, Option } from '@/pdp/components';\nimport { config, getProductData, getRefinedProduct } from '@/pdp/api';\nimport { events } from '@adobe/event-bus';\nimport { Lang, useText } from '@adobe/elsie/i18n';\nimport { isDateValid, toDateString } from '@/pdp/lib/date';\nimport { getUrlParams, setUrlParams } from '@/pdp/lib/url-params';\nimport { ProductModel } from '@/pdp/data/models';\n\ntype IconType = keyof typeof import('@adobe/elsie/icons');\n\ntype Values = {\n  sku: string;\n  quantity: number;\n  optionsUIDs?: string[];\n};\n\ntype DefaultSlotContext = {\n  data: ProductModel | null;\n  values: Values;\n  valid: boolean;\n};\n\nexport type CarouselConfig = {\n  mobile?: boolean;\n  controls?: 'thumbnailsRow' | 'thumbnailsColumn' | 'dots' | null;\n  arrowsOnMainImage?: boolean;\n  loopable?: boolean;\n  peak?: {\n    mobile: boolean,\n    desktop: boolean,\n  }\n  gap?: 'small' | 'medium' | 'large' | null;\n  thumbnailsLoadingMode?: 'lazy' | 'eager';\n  imageParams?: ResolveImageUrlOptions,\n  thumbnailParams?: ResolveImageUrlOptions\n};\n\nexport type OptionsConfig = {\n  anchorOptions?: string[];\n};\n\nexport interface ProductDetailsProps extends HTMLAttributes<HTMLDivElement> {\n  sku: string;\n  hideSku?: boolean;\n  productData?: ProductModel;\n  hideQuantity?: boolean;\n  hideShortDescription?: boolean;\n  hideDescription?: boolean;\n  hideAttributes?: boolean;\n  hideURLParams?: boolean;\n  hideSelectedOptionValue?: boolean;\n  slots?: {\n    Title?: SlotProps<DefaultSlotContext>;\n\n    SKU?: SlotProps<DefaultSlotContext>;\n\n    RegularPrice?: SlotProps<DefaultSlotContext>;\n\n    SpecialPrice?: SlotProps<DefaultSlotContext>;\n\n    Options?: SlotProps<DefaultSlotContext>;\n\n    Quantity?: SlotProps<DefaultSlotContext>;\n\n    Actions?: SlotProps<DefaultSlotContext & {\n      appendButton: SlotMethod<\n        Omit<ButtonProps, 'icon'> & {\n          text?: string;\n          icon?: IconType;\n        }\n      >;\n    }>;\n\n    ShortDescription?: SlotProps<DefaultSlotContext>;\n\n    Description?: SlotProps<DefaultSlotContext>;\n\n    Attributes?: SlotProps<DefaultSlotContext>;\n\n    Breadcrumbs?: SlotProps<DefaultSlotContext & {\n      setSeparator: SlotMethod<IconType>;\n\n      appendLink: SlotMethod<\n        HTMLAttributes<HTMLAnchorElement> & { text?: string }\n      >;\n\n      appendHTMLElement: SlotMethod<HTMLElement>;\n    }>;\n\n    GalleryContent?: SlotProps<DefaultSlotContext>;\n\n    InfoContent?: SlotProps<DefaultSlotContext>;\n\n    Content?: SlotProps<DefaultSlotContext>;\n  };\n  carousel?: CarouselConfig;\n  optionsConfig?: OptionsConfig;\n  onAddToCart?: (values: Values) => void;\n}\n\nexport const ProductDetails: Container<\n  ProductDetailsProps,\n  ProductModel | null\n> = ({\n  sku,\n  hideSku,\n  hideQuantity,\n  hideShortDescription,\n  hideDescription,\n  hideAttributes,\n  hideURLParams,\n  hideSelectedOptionValue,\n  slots,\n  children,\n  initialData,\n  carousel,\n  optionsConfig,\n  onAddToCart,\n  ...props\n}) => {\n  // i18n\n  const AddToCartLabel = useText('PDP.Product.AddToCart.label').label;\n  const IncrementerLabel = useText('PDP.Product.Incrementer.label').label;\n  const DetailsLabel = useText('PDP.Product.Details.label').label;\n\n  // TODO: Investigate if the \"|| 'en-US' \" is really necessary\n  const [locale, setLocale] = useState<Lang>(config.getConfig().defaultLocale as Lang || 'en-US');\n\n  const [selectionsToUpdate, setSelectionsToUpdate] = useState<Option[]>();\n\n  const [data = null, setData] = useState(initialData);\n\n  const [values, setValues] = useState<Values>(() => {\n    const defaultValues: Values = { sku, quantity: 1 };\n\n    if (data?.optionUIDs) {\n      defaultValues.optionsUIDs = data.optionUIDs;\n    }\n    return defaultValues;\n  });\n\n  // the context is invalid for a configurable product that doesn't have all the options selected\n  const [valid, setValid] = useState(() => {\n    return !(\n      data?.options &&\n      data?.options?.length > 0 &&\n      data?.optionUIDs?.length !== data?.options.length\n    );\n  });\n\n  const defaultSlotContext: DefaultSlotContext = { data, values, valid };\n\n  // Locale\n  useEffect(() => {\n    const localeEvent = events.on('locale', (payload: string) => {\n      if (payload === locale) return;\n\n      setLocale(payload as Lang);\n\n      getProductData(sku).then(setData);\n\n      // TODO: need to keep the optionsUIDs when locale changes\n      // if (values?.optionsUIDs) {\n      //   getRefinedProduct(sku, values?.optionsUIDs).then(setData);\n      // } else {\n      //   getProductData(sku).then(setData);\n      // }\n    });\n    return () => {\n      localeEvent?.off();\n    };\n  }, [locale, sku]);\n\n  // Callbacks\n  const handleOnValues = useCallback(\n    (newValues: { [key: string]: string | number }) => {\n      setValues((prev) => ({ ...prev, ...newValues }));\n    },\n    []\n  );\n\n  const handleOptionSelected = useCallback(\n    (selections: { [id: string]: { label: string; value: string } }) => {\n      // options Selected\n      let optionsUIDs = Object.keys(selections)\n        .map((id) => selections[id].value)\n        .filter((element) => element !== undefined);\n\n      // set optionUIDs to URL params\n      // ?optionsUIDs=1,2,3\n      if (!hideURLParams) {\n        setUrlParams({ optionsUIDs: optionsUIDs.join(',') });\n      }\n\n      // update state\n      setValues((prev) => ({ ...prev, optionsUIDs }));\n      setValid(optionsUIDs?.length === data?.options?.length);\n\n      // get refined product data and update state\n      getRefinedProduct(sku, optionsUIDs, optionsConfig?.anchorOptions).then((next) => {\n        setData(next);\n\n        // special processing for anchor options (options that should not be refined when other options are selected)\n        if (optionsConfig?.anchorOptions?.length) {\n          processUpdates(next, optionsUIDs);\n        }\n      });\n    },\n    [sku]\n  );\n\n  const processUpdates = useCallback((next: ProductModel | null, previousOptionsUIDs: string[]) => {\n    const updatedOptionsUIDs = next?.optionUIDs ?? [];\n    const haveSameValues = previousOptionsUIDs.every(item => updatedOptionsUIDs.includes(item));\n    if (!haveSameValues) {\n      setSelectionsToUpdate(next?.options);\n      setValues((prev) => ({ ...prev, optionsUIDs: updatedOptionsUIDs }));\n      setValid(updatedOptionsUIDs?.length === next?.options?.length);\n    }\n  }, [sku]);\n\n  const handleOnErrors = useCallback((_errors: { [id: string]: string }) => {\n    if (Object.keys(_errors).length !== 0) setValid(false);\n  }, []);\n\n  // Product Attributes\n  const attributes = useMemo(() => {\n    return data?.attributes?.map(({ label, value }, key: number) => {\n      const __html = isDateValid(value)\n        ? toDateString(value, locale)\n        : value.toString();\n\n      return (\n        <li key={key}>\n          {/* eslint-disable-next-line react/no-danger */}\n          {label}: <span dangerouslySetInnerHTML={{ __html }} />\n        </li>\n      );\n    });\n  }, [data?.attributes, locale]);\n\n  const quantity =\n    !hideQuantity && data?.inStock ? (\n      <Slot\n        name=\"Quantity\"\n        slot={slots?.Quantity}\n        context={{ ...defaultSlotContext }}\n      >\n        <Incrementer\n          key=\"quantity\"\n          name=\"quantity\"\n          defaultValue={values.quantity.toString()}\n          min={1}\n          aria-label={IncrementerLabel}\n          className=\"pdp-product__quantity\"\n          onValue={(quantity) => {\n            handleOnValues({ quantity: Number(quantity) });\n          }}\n        />\n      </Slot>\n    ) : undefined;\n\n  const renderOptions = () => {\n    if (data?.options) {\n      return (\n        <Slot name=\"Options\" slot={slots?.Options} context={{ ...defaultSlotContext }}>\n          <Swatches\n            options={data.options}\n            defaultOptions={values.optionsUIDs}\n            selectionsToUpdate={selectionsToUpdate}\n            hideSelectedValue={hideSelectedOptionValue}\n            onValues={handleOptionSelected}\n            onErrors={handleOnErrors}\n          />\n        </Slot>\n      );\n    }\n  };\n\n  return (\n    <div {...props}>\n      <Product\n        title={\n          <Slot\n            name=\"Title\"\n            slot={slots?.Title}\n            context={{ ...defaultSlotContext }}\n          >\n            {data?.name}\n          </Slot>\n        }\n        sku={\n          hideSku ? undefined : (\n            <Slot\n              name=\"SKU\"\n              slot={slots?.SKU}\n              context={{ ...defaultSlotContext }}\n            >\n              {data?.sku}\n            </Slot>\n          )\n        }\n        options={renderOptions()}\n        breadcrumbs={\n          slots?.Breadcrumbs && (\n            <Slot\n              name=\"Breadcrumbs\"\n              slot={slots?.Breadcrumbs}\n              context={{\n                ...defaultSlotContext,\n\n                setSeparator(callback) {\n                  this._registerMethod((...attrs) => {\n                    const nextSeparator = callback(...attrs);\n\n                    const separator = nextSeparator && <Icon source={nextSeparator} />;\n\n                    this._setProps((prev: any) => {\n                      return { ...prev, separator };\n                    });\n                  });\n                },\n\n                appendLink(callback) {\n                  this._registerMethod((...attrs) => {\n                    const { text, ...p } = callback(...attrs);\n\n                    const link = <a {...p}>{text}</a>;\n\n                    this._setProps((prev: any) => {\n                      return {\n                        ...prev,\n                        categories: [...(prev.categories || []), link],\n                      };\n                    });\n                  });\n                },\n\n                appendHTMLElement(callback) {\n                  this._registerMethod((...attrs) => {\n                    const domElement = callback(...attrs);\n\n                    const vnode = this._htmlElementToVNode(domElement);\n\n                    this._setProps((prev: any) => {\n                      return {\n                        ...prev,\n                        categories: [...(prev.categories || []), vnode],\n                      };\n                    });\n                  });\n                },\n              }}\n              render={({ separator, categories }) => {\n                return (\n                  <Breadcrumbs separator={separator} categories={categories} />\n                );\n              }}\n            />\n          )\n        }\n        quantity={quantity}\n        actions={\n          <Slot\n            name=\"Actions\"\n            slot={slots?.Actions}\n            context={{\n              ...defaultSlotContext,\n\n              appendButton(callback) {\n                this._registerMethod((...attrs) => {\n                  const _button = callback(...attrs);\n\n                  if (!_button) return;\n\n                  const { text, icon, ...buttonProps } = _button;\n\n                  const button = (\n                    <Button\n                      type=\"button\"\n                      {...buttonProps}\n                      icon={icon && <Icon source={icon} />}\n                    >\n                      {text}\n                    </Button>\n                  );\n\n                  this._setProps((prev: any) => ({\n                    children: [...(prev.children || []), button],\n                  }));\n                });\n              },\n            }}\n          >\n            {\n              // Default Add to Cart button if no slot is provided\n              !slots?.Actions && (\n                <Button\n                  size=\"medium\"\n                  type=\"submit\"\n                  icon={<Icon source=\"Cart\" />}\n                  disabled={!data?.inStock || !valid}\n                  aria-label={AddToCartLabel}\n                  onClick={() => {\n                    return onAddToCart?.(values);\n                  }}\n                >\n                  {AddToCartLabel}\n                </Button>\n              )\n            }\n          </Slot>\n        }\n        shortDescription={\n          !hideShortDescription ? (\n            <Slot\n              name=\"ShortDescription\"\n              slot={slots?.ShortDescription}\n              context={{ ...defaultSlotContext }}\n            >\n              {/* eslint-disable-next-line react/no-danger */}\n              <div dangerouslySetInnerHTML={{ __html: data?.shortDescription ?? '' }} />\n            </Slot>\n          ) : undefined\n        }\n        description={\n          !hideDescription ? (\n            <Slot\n              name=\"Description\"\n              slot={slots?.Description}\n              context={{ ...defaultSlotContext }}\n            >\n              {/* eslint-disable-next-line react/no-danger */}\n              <div dangerouslySetInnerHTML={{ __html: data?.description ?? '' }} />\n            </Slot>\n          ) : undefined\n        }\n        images={\n          data?.images?.map(({ label, url }) => (\n            <Image\n              key={url}\n              title={label}\n              alt={label}\n              src={url}\n              // TODO: change width/height for image aspect ratio\n              // pending https://jira.corp.adobe.com/browse/DATA-5122\n              width={carousel?.imageParams?.width ?? 960}\n              height={carousel?.imageParams?.height ?? 1191}\n              params={carousel?.imageParams ?? { width: 960 }}\n            />\n          )) ?? []\n        }\n        specialPrice={\n          data?.prices?.visible ? (\n            <Slot\n              name=\"SpecialPrice\"\n              slot={slots?.SpecialPrice}\n              context={{ ...defaultSlotContext }}\n            >\n              <PriceRange {...data.prices.final} locale={toLanguageTag(locale)} />\n            </Slot>\n          ) : undefined\n        }\n        price={\n          data?.prices?.visible &&\n          data.prices.regular &&\n          data.prices.final.amount !== data?.prices.regular.amount ? (\n            <Slot\n              name=\"RegularPrice\"\n              slot={slots?.RegularPrice}\n              context={{ ...defaultSlotContext }}\n            >\n              <PriceRange\n                {...data.prices.regular}\n                locale={toLanguageTag(locale)}\n              />\n            </Slot>\n          ) : undefined\n        }\n        carouselConfig={{\n          ...carousel,\n          thumbnails: carousel\n            ? data?.images?.map(({ label, url }) => (\n                <Image\n                  key={url}\n                  title={label}\n                  alt={label}\n                  src={url}\n                  // TODO: change width/height for image aspect ratio\n                  // pending https://jira.corp.adobe.com/browse/DATA-5122\n                  width={carousel?.thumbnailParams?.width ?? 200}\n                  height={carousel?.thumbnailParams?.height ?? 248}\n                  params={carousel?.thumbnailParams ?? { width: 200 }}\n                />\n              )) ?? []\n            : [],\n        }}\n        outOfStock={!data?.inStock}\n        attributes={\n          !hideAttributes ? (\n            <Slot\n              name=\"Attributes\"\n              slot={slots?.Attributes}\n              context={{ ...defaultSlotContext }}\n            >\n              {attributes?.length ? (\n                <>\n                  {DetailsLabel}\n                  <ul>{attributes}</ul>\n                </>\n              ) : null}\n            </Slot>\n          ) : undefined\n        }\n        galleryContent={\n          slots?.GalleryContent && (\n            <Slot\n              name=\"GalleryContent\"\n              slot={slots.GalleryContent}\n              context={{ ...defaultSlotContext }}\n            />\n          )\n        }\n        infoContent={\n          slots?.InfoContent && (\n            <Slot\n              name=\"InfoContent\"\n              slot={slots.InfoContent}\n              context={{ ...defaultSlotContext }}\n            />\n          )\n        }\n        productContent={\n          slots?.Content && (\n            <Slot\n              name=\"Content\"\n              slot={slots.Content}\n              context={{ ...defaultSlotContext }}\n            />\n          )\n        }\n      />\n    </div>\n  );\n};\n\nProductDetails.getInitialData = async function ({ sku, optionsConfig }) {\n  // check if default selections are made\n  const defaultSelections = getUrlParams().optionsUIDs?.split(',') || config?.getConfig()?.models?.ProductDetails?.initialData?.optionsUIDs;\n\n  // if it has selections, refine the product data\n  if (defaultSelections?.length) {\n    return await getRefinedProduct(sku, defaultSelections, optionsConfig?.anchorOptions);\n  }\n\n  // otherwise return the product data\n  return await getProductData(sku);\n};\n"],"names":["debounce","fn","ms","timeoutId","args","clearTimeout","setTimeout","apply","toLanguageTag","locale","replace","Carousel","show","scrollbar","peak","arrows","controls","arrowsOnMainImage","loop","gap","direction","width","height","defaultIndex","className","children","thumbnails","isZoomed","props","Label","useText","label","SlideLabel","PreviousLabel","NextLabel","ControlsLabel","ControlsBtnLabel","perPage","setPerPage","useState","getPerPageFromBreakpoint","length","Math","ceil","Children","toArray","gapSizes","small","medium","large","peakWidth","gapWidth","rest","thumbGap","thumbSeen","iconSize","current","setCurrent","thumbnailsRefs","useRef","thumbWidth","setThumbWidth","thumbHeight","setThumbHeight","thumbnailSlides","useMemo","slides","returnValue","reduce","acc","child","i","slice","concat","wrapperRef","thumbnailsWrapperRef","thumbnailControls","useEffect","wrapper","document","body","handleResize","offsetWidth","offsetHeight","window","innerWidth","newPerPage","observer","ResizeObserver","observe","unobserve","handleThumbnailsScroll","useCallback","nextSlideIndex","nextItem","thumbnailRef","oneItemWidth","oneItemHeight","thumbnailsWrapper","style","scrollBehavior","scrollLeft","scrollTop","handleScrollTo","smooth","reset","realWidth","items","Array","from","querySelectorAll","filter","element","dataIndex","Number","getAttribute","isNaN","item","futureIndex","scrollWidth","diff","handleGoToPrev","handleGoToNext","lastSlideIndex","handleKeyDown","event","key","preventDefault","addEventListener","removeEventListener","handleOnScroll","dividing","round","totalWidth","getArrow","forThumbnails","callback","_jsx","Button","classes","variant","onClick","disabled","Icon","size","source","ChevronDown","prevArrow","nextArrow","prevArrowMainImage","nextArrowMainImage","_jsxs","role","ref","tabIndex","map","page","index","orphan","_Fragment","_","buttonsLength","active","String","el","type","name","checked","onChange","breakpoints","mediumViewport","largeVierport","Product","title","breadcrumbs","galleryContent","infoContent","productContent","sku","outOfStock","hideSku","shortDescription","description","attributes","images","options","price","specialPrice","quantity","actions","carouselConfig","RegularPriceLabel","SpecialPriceLabel","OutOfStockLabel","ImagesLabel","zoom","setZoom","galleryImages","image","VComponent","node","loading","alt","toString","src","localThumbnailsImages","thumbnailsLoadingMode","loopable","desktop","GalleryGrid","mobile","Overlay","onClose","centered","count","PriceRange","amount","currency","sale","minimumAmount","maximumAmount","Price","CloseLabel","handleOnClose","scrollingElement","defaultOverflowValue","overflow","icon","CloseSVG","supportedTypes","mapToPickerOptions","text","inStock","Swatches","hideSelectedValue","onValues","onErrors","defaultOptions","selectionsToUpdate","RequiredLabel","selections","setSelections","initial","accum","option","defaultSelection","find","includes","id","selected","value","forEach","selectionToUpdate","prev","selectedItem","next","errors","required","handleOnSelection","optionId","handlePickerSelect","selection","selectedOptions","toLowerCase","Picker","handleSelect","target","common","groupAriaLabel","onValue","TextSwatch","ImageSwatch","ColorSwatch","color","warn","multiple","console","toDateString","isDateValid","Error","time","split","Date","toLocaleDateString","dateString","acceptedFormats","some","format","test","date","getTime","setUrlParams","params","urlSearchParams","URLSearchParams","location","search","entries","delete","set","url","pathname","hash","history","replaceState","getUrlParams","ProductDetails","hideQuantity","hideShortDescription","hideDescription","hideAttributes","hideURLParams","hideSelectedOptionValue","slots","initialData","carousel","optionsConfig","onAddToCart","AddToCartLabel","IncrementerLabel","DetailsLabel","setLocale","config","getConfig","defaultLocale","setSelectionsToUpdate","data","setData","values","setValues","defaultValues","optionUIDs","optionsUIDs","valid","setValid","defaultSlotContext","localeEvent","events","on","payload","then","off","handleOnValues","newValues","handleOptionSelected","Object","keys","undefined","join","getRefinedProduct","anchorOptions","processUpdates","previousOptionsUIDs","updatedOptionsUIDs","haveSameValues","every","handleOnErrors","_errors","__html","dangerouslySetInnerHTML","Slot","slot","Quantity","context","Incrementer","defaultValue","min","renderOptions","Options","Title","SKU","Breadcrumbs","setSeparator","_registerMethod","attrs","nextSeparator","separator","_setProps","appendLink","p","link","categories","appendHTMLElement","domElement","vnode","_htmlElementToVNode","render","Actions","appendButton","_button","buttonProps","button","ShortDescription","Description","Image","imageParams","prices","visible","SpecialPrice","final","regular","RegularPrice","thumbnailParams","Attributes","GalleryContent","InfoContent","Content","getInitialData","defaultSelections","models","getProductData"],"mappings":"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"}