const __vite__fileDeps=["debugger.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import*as pe from"@dropins/tools/preact-compat.js";import{useState as J,Children as re,useRef as Ae,useMemo as ve,useEffect as ne,useCallback as Z}from"@dropins/tools/preact-compat.js";import{Button as fe,Icon as we,Price as Ne,Picker as ze,ColorSwatch as Ge,ImageSwatch as je,TextSwatch as Fe,Incrementer as Ke,Breadcrumbs as Qe,Image as Ie}from"@dropins/tools/components/index.js";import{jsx as t,jsxs as T,Fragment as Se}from"@dropins/tools/preact-jsx-runtime.js";import{IntlContext as Je,useText as z}from"@dropins/tools/i18n.js";import{c as k,V as H}from"../chunks/vcomponent__7E94D35BBn.js";import{c as Me,d as We}from"../chunks/getRefinedProduct__BeU9ZMr3mu.js";import{events as Ze}from"@dropins/tools/event-bus.js";import{useEffect as Le,useRef as ge,useState as ke,useMemo as Xe,useContext as Ye,useCallback as te}from"@dropins/tools/preact-hooks.js";import{c as Ve}from"../chunks/initialize__BRSu0U-gnU.js";import"@dropins/tools/fetch-graphql.js";const Re=(e,s)=>{let i;return function(...w){clearTimeout(i),i=setTimeout(()=>e.apply(this,w),s)}},De=e=>e.replace("_","-"),Ce="modulepreload",et=function(e){return"/"+e},Be={},tt=function(s,i,w){let u=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),p=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));u=Promise.all(i.map(f=>{if(f=et(f),f in Be)return;Be[f]=!0;const l=f.endsWith(".css"),K=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${K}`))return;const E=document.createElement("link");if(E.rel=l?"stylesheet":Ce,l||(E.as="script",E.crossOrigin=""),E.href=f,p&&E.setAttribute("nonce",p),document.head.appendChild(E),l)return new Promise((r,g)=>{E.addEventListener("load",r),E.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${f}`)))})}))}return u.then(()=>s()).catch(v=>{const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=v,window.dispatchEvent(p),!p.defaultPrevented)throw v})};function rt(e={},s,i){const w=ge(null),u=ge(!1),v=ge([]),[p,f]=ke({children:[i==null?void 0:i({})]}),[l,K]=ke({}),E=Xe(()=>({get:S=>l[S],set:(S,o)=>{K({...E,[S]:o})}}),[l]),{intl:r}=Ye(Je);e.dictionary=r.dictionary,e._setProps=f;const g=te(S=>{typeof S=="function"?v.current.push(S):console.warn("Skipped: Invalid _registerMethod",S)},[]);e._registerMethod=g;const R=te(S=>t("div",{"data-slot-html-element":S.tagName.toLowerCase(),ref:o=>{o==null||o.appendChild(S)}}),[]);return e._htmlElementToVNode=R,e.getSlotElement=te(S=>{const o=document.querySelector(`[data-slot-key="${S}"]`);if(o)return{appendChild:b=>{o.appendChild(b)},prependChild:b=>{o.insertBefore(b,o.firstChild)},appendSibling:b=>{const d=o.parentNode;d==null||d.insertBefore(b,o.nextSibling)},prependSibling:b=>{const d=o.parentNode;d==null||d.insertBefore(b,o)}}},[]),e.onChange=te(S=>{v.current.push(S)},[]),e.replaceWith=te(S=>{g(o=>{const b=R(S);o._setProps({children:[b]})})},[R,g]),e.appendChild=te(S=>{g(o=>{const b=R(S);o._setProps(d=>({...d,children:[...d.children,b]}))})},[R,g]),e.prependChild=te(S=>{g(o=>{const b=R(S);o._setProps(d=>({...d,children:[b,...d.children]}))})},[R,g]),e.appendSibling=te(S=>{g(()=>{var b,d;const o=(b=w.current)==null?void 0:b.parentNode;o==null||o.insertBefore(S,((d=w.current)==null?void 0:d.nextSibling)??null)})},[g]),e.prependSibling=te(S=>{g(()=>{var b;const o=(b=w.current)==null?void 0:b.parentNode;o==null||o.insertBefore(S,w.current)})},[g]),Le(()=>{const S=w.current;if(!(!s||!S))try{s(e,S)}catch(o){console.error(`Error in "${s.name}" Slot callback`,o)}},[]),Le(()=>{f({children:[i==null?void 0:i(p)]}),v.current.forEach(S=>{S(e,E)}),(i==null?void 0:i.name)==="render"&&u.current===!1&&(u.current=!0)},[JSON.stringify(e),JSON.stringify(l),u.current]),[w,p]}function j({name:e,slot:s,context:i,children:w,render:u,...v}){const[p,f]=rt(i,s,u??(()=>w));return Le(()=>{e||console.warn('Slot "name" is required')},[e]),t("div",{...v,ref:p,"data-slot":e,children:f.children})}window.DROPINS=window.DROPINS||{};window.DROPINS.showSlots=async e=>{if(window.sessionStorage.setItem("dropin-debugger--show-slots",e.toString()),document.body.classList.toggle("dropin-debugger--show-slots",e),e)try{await tt(()=>Promise.resolve({}),__vite__mapDeps([0]))}catch{}};window.DROPINS.showSlots(window.sessionStorage.getItem("dropin-debugger--show-slots")==="true");const nt=e=>pe.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},pe.createElement("path",{d:"M7.74512 9.87701L12.0001 14.132L16.2551 9.87701",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"square",strokeLinejoin:"round"})),lt=e=>pe.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},pe.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M18.3599 5.64001L5.62988 18.37",stroke:"currentColor"}),pe.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M18.3599 18.37L5.62988 5.64001",stroke:"currentColor"})),be=({show:e=1,scrollbar:s=!1,peak:i=!1,arrows:w=!1,controls:u="dots",arrowsOnMainImage:v=!1,loop:p=!1,gap:f=null,direction:l="horizontal",width:K="100%",height:E="100%",defaultIndex:r=0,className:g,children:R,thumbnails:S=null,isZoomed:o,...b})=>{const d=z("PDP.Carousel.label").label,P=z("PDP.Carousel.Slide.label").label,c=z("PDP.Carousel.Previous.label").label,q=z("PDP.Carousel.Next.label").label,N=z("PDP.Carousel.Controls.label").label,n=z("PDP.Carousel.Controls.Button.label").label,[B,F]=J(()=>Oe(e)),M=Math.ceil(re.toArray(R).length/B),le={small:16,medium:24,large:64},W=i?24:0,O=f?le[f]:0,X=re.toArray(R).length%B,ce=16,ee=2,ae="32",[I,oe]=J(p?r+1:r),Y=Ae([]),[G,C]=J(0),[se,he]=J(0),m=ve(()=>re.toArray(S),[S]),_=ve(()=>{const a=re.toArray(R).reduce((h,$,L)=>L%B===0?[...h,[$]]:[...h.slice(0,-1),[...h[h.length-1],$]],[]);return!p||a.length===1?a:p&&re.toArray(R).length%B===0?[a[M-1]].concat(a).concat([a[0],a[1]]):[re.toArray(R).slice(-B)].concat(a).concat([a[0],a[1]])},[R,B,M,p]),y=Ae(null),D=Ae(null),A=u==="thumbnailsRow"||u==="thumbnailsColumn";ne(()=>{const a=document.body,h=Re(()=>{var x,ye;C(((x=y.current)==null?void 0:x.offsetWidth)??0),he(((ye=y.current)==null?void 0:ye.offsetHeight)??0);const L=window.innerWidth,V=Oe(e,L);V!==B&&F(V)},50),$=new ResizeObserver(h);return $.observe(a),()=>{$.unobserve(a)}},[B,e]);const Q=Z(a=>{const h=p?a-1:a,$=Y==null?void 0:Y.current[0],L=($==null?void 0:$.offsetWidth)+ce,V=($==null?void 0:$.offsetHeight)+ce,x=D.current;u==="thumbnailsRow"&&(x!=null&&x.offsetWidth)&&(L*(h+1)>x.offsetWidth&&(x.style.scrollBehavior="smooth",x.scrollLeft=(h+ee)*L),x.scrollLeft>L*h&&(x.style.scrollBehavior="smooth",x.scrollLeft=(h-ee)*L)),u==="thumbnailsColumn"&&(x!=null&&x.offsetHeight)&&(V*(h+1)>x.offsetHeight&&(x.style.scrollBehavior="smooth",x.scrollTop=(h+ee)*V),x.scrollTop>V*h&&(x.style.scrollBehavior="smooth",x.scrollTop=(h-ee)*V))},[u,p]),U=Z((a,h,$)=>{(u==="thumbnailsRow"||u==="thumbnailsColumn")&&Q(a);const L=y.current,V=W?L.offsetWidth-W:L.offsetWidth-W+O;if(!Array.from(L.querySelectorAll("[data-index]")).filter(me=>{const ie=Number(me.getAttribute("data-index"));return!isNaN(ie)&&ie>-1})[a])return;if($){const me=a===0?M:0,ie=V*(M+(X||B)/B);if(L.scrollLeft>=0&&L.scrollLeft<V-5){U(1,!0);return}if(L.scrollLeft>ie-V&&L.scrollLeft<=ie){U(M,!0);return}L.style.scrollBehavior="auto",L.scrollLeft=me===0?0:ie,U(me===0?1:M,!0);return}const Ue=(L.offsetWidth-O)/B*_[a].length-W;L.style.scrollBehavior=h?"smooth":"auto",L.scrollLeft=_[a].length===B?V*a:V*(a-1)+Ue},[O,M,W,B,X,_,Q,u]),de=Z(()=>{if(p){const h=I-1;U(h,!0,I===1);return}const a=I<=0?0:I-1;U(a,!0)},[I,U,p]),ue=Z(()=>{const a=_.length-1;if(p){const $=I+1;U($,!0,I===M);return}const h=I>=a?a:I+1;U(h,!0)},[_.length,p,I,U,M]);ne(()=>{const a=h=>{h.key==="ArrowLeft"&&(h.preventDefault(),de()),h.key==="ArrowRight"&&(h.preventDefault(),ue())};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[ue,de]),ne(()=>{U(p?r+1:r,!1)},[r,U,p]);const Pe=Re(()=>{const a=y.current,h=W?a.offsetWidth-W:a.offsetWidth-W+O,$=a.scrollLeft/h,L=Math.round($)-$<1?Math.round($):Math.ceil($);if(A&&Q(L),p){const V=h*(M+(X||B)/B);if(Math.ceil(a.scrollLeft)>=Math.ceil(V)-5){a.style.scrollBehavior="auto",a.scrollLeft=a.offsetWidth*1+(Math.ceil(a.scrollLeft)-Math.ceil(V)-W);return}if(a.scrollLeft===0){a.style.scrollBehavior="auto",a.scrollLeft=V-a.offsetWidth+W;return}}I!==L&&oe(L)},100);ne(()=>{const a=y.current;return a==null||a.addEventListener("scroll",Pe),()=>{a==null||a.removeEventListener("scroll",Pe)}},[Pe]);const _e=(a,h,$)=>t(fe,{className:k([["pdp-carousel__button",!a],[`pdp-carousel__button--${h}`,!a],[`pdp-carousel__button--${u}`,a]]),style:{"--height":`${se}px`},variant:"tertiary","aria-label":h==="next"?q:c,onClick:$,disabled:p?!1:h==="next"?I>=_.length-1:I<1,children:t(we,{className:k([["pdp-carousel__button__icon",!a],[`pdp-carousel__button__icon--${h}`,!a],[`pdp-carousel__button__icon--${u}--${h}`,a]]),size:ae,source:nt})}),$e=w&&_.length!=1&&_e(A,"prev",de),Ee=w&&_.length!=1&&_e(A,"next",ue),Te=w&&_.length!=1&&_e(!1,"prev",de),He=w&&_.length!=1&&_e(!1,"next",ue);return T("div",{role:"region","aria-roledescription":d,className:k(["pdp-carousel",["pdp-carousel--main-image-controls",v],["pdp-carousel--arrows",w&&!A],[`pdp-carousel--${u}`,A],g]),style:{"--flex-carousel":u==="thumbnailsColumn"?"row-reverse":"column","--gap":A?"0":"var(--spacing-small)","--width":K},...b,children:[t("div",{ref:y,className:k(["pdp-carousel__wrapper",`pdp-carousel__wrapper--${l}`,["pdp-carousel__wrapper--scrollbar",s],["pdp-carousel__wrapper--peak",i]]),style:{"--total-width":u==="thumbnailsColumn"?"81.6%":"100%","--height":u==="thumbnailsColumn"?"auto":E,"--gap":f?`var(--spacing-${f})`:"0px","--per-page":B},tabIndex:0,children:_.map((a,h)=>{const $=a.length<B;return t("div",{role:"group","aria-roledescription":P,"data-index":h,className:k(["pdp-carousel__slide",`pdp-carousel__slide--${l}`,["pdp-carousel__slide--active",I===h],["pdp-carousel__slide--orphan",$]]),style:{"--length":a.length},children:a},h)})}),!A&&T(Se,{children:[$e,Ee]}),A&&v&&T(Se,{children:[Te,He]}),u&&_.length!=1&&T("div",{className:k([[`pdp-carousel__controls__container--${u}`,A],["pdp-carousel__controls__container--no-arrows",!w||v]]),style:{"--width":u==="thumbnailsRow"?`${G}px`:K,"--height":`${se}px`,"--nr-thumbnails":m.length},children:[(A||o)&&!v&&$e,t("div",{ref:D,className:k([[`pdp-carousel__controls__wrapper--${u}`,A],["pdp-carousel__controls__wrapper",A]]),children:t("div",{role:"group","aria-label":N,className:k(["pdp-carousel__controls",[`pdp-carousel__controls--${u}`,A]]),children:(p?_.slice(0,M):_).map((a,h)=>{const $=p?M:_.length,L=p?I-1===h:I===h;return A?T("label",{className:k(["pdp-carousel__thumbnail__container"]),ref:V=>{V&&(Y.current[h]=V)},children:[t("input",{type:"radio",name:"carousel-thumbnails","aria-label":n.replace("{key}",String(h+1)).replace("{total}",String($)),checked:L&&G!==0,onChange:()=>{U(p?h+1:h,!0)},...b,className:k(["pdp-carousel__thumbnail",["pdp-carousel__thumbnail--selected",L&&G!==0]])}),t("span",{className:k(["pdp-carousel__thumbnail__span"]),children:m[h]})]},h):t("button",{"aria-label":n.replace("{key}",String(h+1)).replace("{total}",String($)),onClick:()=>{U(p?h+1:h,!0)},className:k(["pdp-carousel__controls__button",["pdp-carousel__controls__button--active",L]])},h)})})}),(A||o)&&!v&&Ee]})]})};function Oe(e,s=0){if(typeof e=="number")return e;const{small:i,medium:w,large:u}=e,v=786;return s>1024?u:s>v?w:i}const ct=({title:e,breadcrumbs:s,galleryContent:i,infoContent:w,productContent:u,sku:v,outOfStock:p,hideSku:f,shortDescription:l,description:K,attributes:E,images:r,options:g,price:R,specialPrice:S,className:o,children:b,quantity:d,actions:P,carouselConfig:c,...q})=>{var X,ce,ee,ae,I,oe;const N=z("PDP.Product.RegularPrice.label").label,n=z("PDP.Product.SpecialPrice.label").label,B=z("PDP.Product.OutOfStock.label").label,F=z("PDP.Product.Image.label").label,[M,le]=J(null),W=r!=null&&r.length?r.map((Y,G)=>{var C;return t(H,{node:Y,loading:G===0?"eager":"lazy",alt:((C=e==null?void 0:e.props)==null?void 0:C.children)&&(F==null?void 0:F.replace("{product}",e.props.children.toString()).replace("{key}",String(G+1)).replace("{total}",String(r.length))),onClick:()=>le(G)},G)}):t("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",className:"pdp-product__images__placeholder","aria-hidden":!0}),O=(X=c==null?void 0:c.thumbnails)!=null&&X.length?c.thumbnails.map((Y,G)=>{var C;return t(H,{node:Y,loading:(c==null?void 0:c.thumbnailsLoadingMode)||"lazy",alt:((C=e==null?void 0:e.props)==null?void 0:C.children)&&(F==null?void 0:F.replace("{product}",e.props.children.toString()).replace("{key}",String(G+1)).replace("{total}",String(r.length)))},G)}):t("img",{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",className:"pdp-product__images__placeholder","aria-hidden":!0});return T("div",{...q,className:k(["pdp-product",o]),children:[s&&t(H,{node:s,className:"pdp-product__breadcrumbs"}),T("div",{className:"pdp-product__column-container pdp-product__gallery-column",children:[t("div",{className:"pdp-product__column-body",children:c!=null&&c.controls?t(be,{className:"pdp-product__overlay__carousel",arrows:(r==null?void 0:r.length)>1,controls:(r==null?void 0:r.length)>1?c.controls:"dots",arrowsOnMainImage:c==null?void 0:c.arrowsOnMainImage,loop:(c==null?void 0:c.loopable)&&(r==null?void 0:r.length)>1,peak:((ce=c==null?void 0:c.thumbnails)==null?void 0:ce.length)>1&&((ee=c==null?void 0:c.peak)==null?void 0:ee.desktop)||!1,gap:(c==null?void 0:c.gap)||null,width:"100%",height:"100%",defaultIndex:M||0,thumbnails:O,children:W}):t(at,{className:"pdp-product__images",gap:"small",children:W})}),i&&t(H,{node:i,className:"pdp-product__gallery-content"})]}),T("div",{className:"pdp-product__column-container pdp-product__content-column",children:[T("div",{className:"pdp-product__column-body",children:[T("div",{className:"pdp-product__header",children:[e&&t(H,{node:e,className:"pdp-product__title"}),!f&&v&&t(H,{node:v,className:"pdp-product__sku"})]}),T("div",{className:"pdp-product__prices",children:[S&&t(H,{node:S,className:k(["pdp-product__price-special","pdp-product__price"]),"aria-label":n,role:"text"}),R&&t(H,{node:R,className:k(["pdp-product__price-regular","pdp-product__price--grey"]),"aria-label":N,role:"text"})]}),c!=null&&c.mobile?t(be,{className:"pdp-product__images pdp-product__images--carousel pdp-product__images--carousel--thumbnails",width:"100%",height:"auto",arrows:(r==null?void 0:r.length)>1,controls:(r==null?void 0:r.length)>1?"thumbnailsRow":null,loop:(c==null?void 0:c.loopable)&&(r==null?void 0:r.length)>1,peak:((ae=c==null?void 0:c.thumbnails)==null?void 0:ae.length)>1&&((I=c==null?void 0:c.peak)==null?void 0:I.mobile)||!1,gap:(c==null?void 0:c.gap)||null,thumbnails:O,children:W}):t(be,{className:"pdp-product__images pdp-product__images--carousel",peak:((oe=c==null?void 0:c.peak)==null?void 0:oe.mobile)&&(r==null?void 0:r.length)>1,gap:(c==null?void 0:c.gap)||null,width:"100%",height:"auto",arrows:(r==null?void 0:r.length)>1,controls:(r==null?void 0:r.length)>1?"dots":null,loop:(c==null?void 0:c.loopable)&&(r==null?void 0:r.length)>1,children:W}),T("div",{className:k(["pdp-product__actions",["pdp-product__actions--out-of-stock",p]]),children:[p&&t("div",{className:"pdp-product__out-of-stock__text",children:B}),g&&t(H,{node:g,className:k(["pdp-product__options"])}),d&&t("div",{className:"pdp-product__quantity",children:t(H,{node:d})}),P&&t(H,{node:P,className:k(["pdp-product__buttons"])})]}),l&&t(H,{node:l,className:k(["pdp-product__short_description"])}),K&&t(H,{node:K,className:k(["pdp-product__description"])}),E?t("div",{className:"pdp-product__attributes",children:E}):null]}),w&&t(H,{node:w,className:"pdp-product__info-content"})]}),u&&t(H,{node:u,className:"pdp-product__content"}),M===null?null:t(ot,{className:"pdp-product__overlay",onClose:()=>le(null),centered:!0,children:t(be,{className:"pdp-product__overlay__carousel",arrows:(r==null?void 0:r.length)>1,width:"100%",height:"100%",defaultIndex:M||0,loop:(r==null?void 0:r.length)>1,controls:(r==null?void 0:r.length)>1?"dots":null,isZoomed:!0,children:W})})]})},at=({children:e,gap:s=null,className:i,style:w,...u})=>{const v=re.count(e);return t("div",{...u,className:k(["pdp-gallery-grid",i]),style:{"--gap":s?`var(--spacing-${s})`:"0px",...w},children:re.map(e,(p,f)=>t("div",{className:"pdp-gallery-grid__item",children:t(H,{node:p,loading:f===0?"eager":"lazy"},p.props.src)},v+f))})},xe=({amount:e,currency:s,locale:i,variant:w,sale:u,minimumAmount:v,maximumAmount:p,className:f,...l})=>t(Se,{children:e||v===p?t("div",{className:"pdp-price-range",...l,children:t(Ne,{amount:e||v,currency:s,locale:i,variant:w,sale:u,className:f})}):T("div",{className:"pdp-price-range",...l,children:[t(Ne,{amount:v,currency:s,locale:i,className:f}),t("span",{className:"pdp-price-range__label",children:"-"}),t(Ne,{amount:p,currency:s,locale:i,className:f})]})}),ot=({centered:e,onClose:s,className:i,children:w,...u})=>{const v=z("PDP.Overlay.Close.label").label,p=Z(()=>{s==null||s()},[s]);return ne(()=>{const f=l=>{l.key==="Escape"&&p()};return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[p]),ne(()=>{const f=document.scrollingElement,l=f.style.overflow;return f.style.overflow="hidden",()=>{f.style.overflow=l}},[]),T("div",{...u,className:k(["pdp-overlay",["pdp-overlay--centered",e],i]),children:[t("div",{className:"pdp-overlay__content",children:w}),t(fe,{"aria-label":v,variant:"tertiary",className:"pdp-overlay__close-button",onClick:p,icon:t(lt,{})})]})},dt=["text","image","color","dropdown"],it=e=>e.map(s=>({...s,text:s.label,disabled:!s.inStock})),st=({options:e,hideSelectedValue:s,onValues:i,onErrors:w,defaultOptions:u,selectionsToUpdate:v,className:p,children:f,...l})=>{const K=z("PDP.Swatches.Required.label").label,[E,r]=J(()=>e==null?void 0:e.reduce((b,d)=>{const{items:P}=d,c=P==null?void 0:P.find(N=>u==null?void 0:u.includes(N.id)),q=P==null?void 0:P.find(N=>N.selected);return c?{...b,[d.id]:{label:c.label,value:c.id}}:q?{...b,[d.id]:{label:q.label,value:q.id}}:b},{}));ne(()=>{v==null||v.forEach(o=>{r(b=>{var c;const d=(c=o==null?void 0:o.items)==null?void 0:c.find(q=>q.selected);return d?{...b,[o.id]:{label:d==null?void 0:d.label,value:d==null?void 0:d.id}}:b})})},[v,r]),ve(()=>{const o=e==null?void 0:e.reduce((b,d)=>{var P;return(P=d==null?void 0:d.items)==null||P.forEach(c=>{var N;const q=((N=E[d.id])==null?void 0:N.value)===c.id;d.required&&!q&&(b[d.id]=K)}),b},{});return w==null||w(o),o},[E]);const g=Z((o,b,d)=>{r(P=>{const c={...P,[o]:{label:b,value:d}};return i==null||i(c,d),c})},[i]),R=(o,b)=>{var P;const d=((P=b.selectedOptions[0])==null?void 0:P.label)??"";g(o,d,b.value)},S=Z(({items:o,id:b,required:d,type:P,selected:c,label:q})=>t("div",{className:k(["pdp-swatches__options"]),children:(P==null?void 0:P.toLowerCase())==="dropdown"?t(ze,{"aria-label":q,handleSelect:N=>R(b,N.target),options:it(o),value:c}):o==null?void 0:o.map(N=>{const n={key:N.id,id:N.id,name:b,value:N.value,label:N.label,groupAriaLabel:q,selected:c===N.id,outOfStock:!N.inStock,required:d===null?!0:d,onValue:()=>{g(b,N.label,N.id)}};switch(P){case"text":return t(Fe,{...n,label:N.label});case"image":return t(je,{...n,src:N.value,alt:N.label});case"color":return t(Ge,{...n,size:"large",color:N.value});default:return console.warn(`Invalid swatch type ${P}`),null}})}),[g]);return t("div",{...l,className:k(["pdp-swatches",p]),children:e==null?void 0:e.map(({type:o,label:b,id:d,multiple:P,required:c,items:q})=>{var N;if(!o){console.warn("Bundle product not supported on UI.");return}return dt.includes(o)||console.warn(`Invalid swatch type ${o}`),P&&console.warn("Multiple selection swatches are not currently supported."),T("div",{id:`swatch-item-${d}`,"data-slot-key":`product-swatch--${d}`,className:"pdp-swatches__field",children:[t("div",{className:"pdp-swatches__field__label",children:E[d]?s?`${b}`:`${b}: ${E[d].label}`:b}),t(S,{id:d,type:o,required:c,items:q,label:b,selected:(N=E[d])==null?void 0:N.value})]},`swatch-item-${d}`)})})};function pt(e,s="en_US"){if(!qe(e))throw Error("Invalid date string");return e.split(" ")[1]||(e=`${e} 00:00:00`),new Date(e).toLocaleDateString(De(s)).toString()}function qe(e){if(![/^\d{4}-\d{2}-\d{2}$/,/^\d{1,2}\/\d{1,2}\/\d{4}$/,/^\d{2}\/\d{2}\/\d{4}$/,/^\d{4}\/\d{2}\/\d{2}$/,/^\d{1,2}\.\d{1,2}\.\d{4}$/,/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/].some(w=>w.test(e)))return!1;const i=new Date(e);return!isNaN(i.getTime())}function ht(e){const s=new URLSearchParams(window.location.search);Object.entries(e).forEach(([w,u])=>{u===null?s.delete(w):s.set(w,String(u))});let i=window.location.pathname;i+=`?${s.toString()}`,i+=window.location.hash,window.history.replaceState({},"",i)}function ut(){const e=new URLSearchParams(window.location.search),s={};return e.forEach((i,w)=>{s[w]=i}),s}const _t=({sku:e,hideSku:s,hideQuantity:i,hideShortDescription:w,hideDescription:u,hideAttributes:v,hideURLParams:p,hideSelectedOptionValue:f,slots:l,children:K,initialData:E,carousel:r,optionsConfig:g,onAddToCart:R,...S})=>{var G,C,se,he;const o=z("PDP.Product.AddToCart.label").label,b=z("PDP.Product.Incrementer.label").label,d=z("PDP.Product.Details.label").label,[P,c]=J(Ve.getConfig().defaultLocale||"en-US"),[q,N]=J(),[n=null,B]=J(E),[F,M]=J(()=>{const m={sku:e,quantity:1};return n!=null&&n.optionUIDs&&(m.optionsUIDs=n.optionUIDs),m}),[le,W]=J(()=>{var m,_;return!(n!=null&&n.options&&((m=n==null?void 0:n.options)==null?void 0:m.length)>0&&((_=n==null?void 0:n.optionUIDs)==null?void 0:_.length)!==(n==null?void 0:n.options.length))}),O={data:n,values:F,valid:le};ne(()=>{const m=Ze.on("locale",_=>{_!==P&&(c(_),Me(e).then(B))});return()=>{m==null||m.off()}},[P,e]);const X=Z(m=>{M(_=>({..._,...m}))},[]),ce=Z(m=>{var y;let _=Object.keys(m).map(D=>m[D].value).filter(D=>D!==void 0);p||ht({optionsUIDs:_.join(",")}),M(D=>({...D,optionsUIDs:_})),W((_==null?void 0:_.length)===((y=n==null?void 0:n.options)==null?void 0:y.length)),We(e,_,g==null?void 0:g.anchorOptions).then(D=>{var A;B(D),(A=g==null?void 0:g.anchorOptions)!=null&&A.length&&ee(D,_)})},[e]),ee=Z((m,_)=>{var A;const y=(m==null?void 0:m.optionUIDs)??[];_.every(Q=>y.includes(Q))||(N(m==null?void 0:m.options),M(Q=>({...Q,optionsUIDs:y})),W((y==null?void 0:y.length)===((A=m==null?void 0:m.options)==null?void 0:A.length)))},[e]),ae=Z(m=>{Object.keys(m).length!==0&&W(!1)},[]),I=ve(()=>{var m;return(m=n==null?void 0:n.attributes)==null?void 0:m.map(({label:_,value:y},D)=>{const A=qe(y)?pt(y,P):y.toString();return T("li",{children:[_,": ",t("span",{dangerouslySetInnerHTML:{__html:A}})]},D)})},[n==null?void 0:n.attributes,P]),oe=!i&&(n!=null&&n.inStock)?t(j,{name:"Quantity",slot:l==null?void 0:l.Quantity,context:{...O},children:t(Ke,{name:"quantity",defaultValue:F.quantity.toString(),min:1,"aria-label":b,className:"pdp-product__quantity",onValue:m=>{X({quantity:Number(m)})}},"quantity")}):void 0,Y=()=>{if(n!=null&&n.options)return t(j,{name:"Options",slot:l==null?void 0:l.Options,context:{...O},children:t(st,{options:n.options,defaultOptions:F.optionsUIDs,selectionsToUpdate:q,hideSelectedValue:f,onValues:ce,onErrors:ae})})};return t("div",{...S,children:t(ct,{title:t(j,{name:"Title",slot:l==null?void 0:l.Title,context:{...O},children:n==null?void 0:n.name}),sku:s?void 0:t(j,{name:"SKU",slot:l==null?void 0:l.SKU,context:{...O},children:n==null?void 0:n.sku}),options:Y(),breadcrumbs:(l==null?void 0:l.Breadcrumbs)&&t(j,{name:"Breadcrumbs",slot:l==null?void 0:l.Breadcrumbs,context:{...O,setSeparator(m){this._registerMethod((..._)=>{const y=m(..._),D=y&&t(we,{source:y});this._setProps(A=>({...A,separator:D}))})},appendLink(m){this._registerMethod((..._)=>{const{text:y,...D}=m(..._),A=t("a",{...D,children:y});this._setProps(Q=>({...Q,categories:[...Q.categories||[],A]}))})},appendHTMLElement(m){this._registerMethod((..._)=>{const y=m(..._),D=this._htmlElementToVNode(y);this._setProps(A=>({...A,categories:[...A.categories||[],D]}))})}},render:({separator:m,categories:_})=>t(Qe,{separator:m,categories:_})}),quantity:oe,actions:t(j,{name:"Actions",slot:l==null?void 0:l.Actions,context:{...O,appendButton(m){this._registerMethod((..._)=>{const y=m(..._);if(!y)return;const{text:D,icon:A,...Q}=y,U=t(fe,{type:"button",...Q,icon:A&&t(we,{source:A}),children:D});this._setProps(de=>({children:[...de.children||[],U]}))})}},children:!(l!=null&&l.Actions)&&t(fe,{size:"medium",type:"submit",icon:t(we,{source:"Cart"}),disabled:!(n!=null&&n.inStock)||!le,"aria-label":o,onClick:()=>R==null?void 0:R(F),children:o})}),shortDescription:w?void 0:t(j,{name:"ShortDescription",slot:l==null?void 0:l.ShortDescription,context:{...O},children:t("div",{dangerouslySetInnerHTML:{__html:(n==null?void 0:n.shortDescription)??""}})}),description:u?void 0:t(j,{name:"Description",slot:l==null?void 0:l.Description,context:{...O},children:t("div",{dangerouslySetInnerHTML:{__html:(n==null?void 0:n.description)??""}})}),images:((G=n==null?void 0:n.images)==null?void 0:G.map(({label:m,url:_})=>{var y,D;return t(Ie,{title:m,alt:m,src:_,width:((y=r==null?void 0:r.imageParams)==null?void 0:y.width)??960,height:((D=r==null?void 0:r.imageParams)==null?void 0:D.height)??1191,params:(r==null?void 0:r.imageParams)??{width:960}},_)}))??[],specialPrice:(C=n==null?void 0:n.prices)!=null&&C.visible?t(j,{name:"SpecialPrice",slot:l==null?void 0:l.SpecialPrice,context:{...O},children:t(xe,{...n.prices.final,locale:De(P)})}):void 0,price:(se=n==null?void 0:n.prices)!=null&&se.visible&&n.prices.regular&&n.prices.final.amount!==(n==null?void 0:n.prices.regular.amount)?t(j,{name:"RegularPrice",slot:l==null?void 0:l.RegularPrice,context:{...O},children:t(xe,{...n.prices.regular,locale:De(P)})}):void 0,carouselConfig:{...r,thumbnails:r?((he=n==null?void 0:n.images)==null?void 0:he.map(({label:m,url:_})=>{var y,D;return t(Ie,{title:m,alt:m,src:_,width:((y=r==null?void 0:r.thumbnailParams)==null?void 0:y.width)??200,height:((D=r==null?void 0:r.thumbnailParams)==null?void 0:D.height)??248,params:(r==null?void 0:r.thumbnailParams)??{width:200}},_)}))??[]:[]},outOfStock:!(n!=null&&n.inStock),attributes:v?void 0:t(j,{name:"Attributes",slot:l==null?void 0:l.Attributes,context:{...O},children:I!=null&&I.length?T(Se,{children:[d,t("ul",{children:I})]}):null}),galleryContent:(l==null?void 0:l.GalleryContent)&&t(j,{name:"GalleryContent",slot:l.GalleryContent,context:{...O}}),infoContent:(l==null?void 0:l.InfoContent)&&t(j,{name:"InfoContent",slot:l.InfoContent,context:{...O}}),productContent:(l==null?void 0:l.Content)&&t(j,{name:"Content",slot:l.Content,context:{...O}})})})};_t.getInitialData=async function({sku:e,optionsConfig:s}){var w,u,v,p,f,l;const i=((w=ut().optionsUIDs)==null?void 0:w.split(","))||((l=(f=(p=(v=(u=Ve)==null?void 0:u.getConfig())==null?void 0:v.models)==null?void 0:p.ProductDetails)==null?void 0:f.initialData)==null?void 0:l.optionsUIDs);return i!=null&&i.length?await We(e,i,s==null?void 0:s.anchorOptions):await Me(e)};export{_t as ProductDetails,_t as default};
//# sourceMappingURL=ProductDetails.js.map
