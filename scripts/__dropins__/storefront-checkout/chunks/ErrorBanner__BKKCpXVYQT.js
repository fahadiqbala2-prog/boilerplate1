import*as t from"@dropins/tools/preact-compat.js";import{useState as h,useEffect as v}from"@dropins/tools/preact-compat.js";import{events as b}from"@dropins/tools/event-bus.js";import{jsxs as c,jsx as n}from"@dropins/tools/preact-jsx-runtime.js";import{u as f,c as m}from"./preact-i18n.esm__AesnfYdPmV.js";import{V as d}from"./vcomponent__B-EAiH6JFM.js";import{B as p}from"./Button__Dyj88ihZKB.js";import{Icon as u}from"@dropins/tools/components/Icon.js";const E=s=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s},t.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M18.3599 5.64001L5.62988 18.37",stroke:"currentColor"}),t.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M18.3599 18.37L5.62988 5.64001",stroke:"currentColor"})),w=s=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s},t.createElement("path",{vectorEffect:"non-scaling-stroke",fillRule:"evenodd",clipRule:"evenodd",d:"M1 20.8953L12.1922 1.5L23.395 20.8953H1ZM13.0278 13.9638L13.25 10.0377V9H11.25V10.0377L11.4722 13.9638H13.0278ZM11.2994 16V17.7509H13.2253V16H11.2994Z",fill:"currentColor"})),k=({className:s,variant:a,icon:o,message:i,onDismiss:l,action:e,...r})=>{const g=f({dismiss:"Dropin.InlineAlert.dismissLabel"});return c("div",{...r,className:m([s,"dropin-alert-banner",`dropin-alert-banner--${a}`]),children:[c("div",{className:"dropin-alert-banner__content",children:[o&&n(d,{node:o,"aria-hidden":"true",className:"dropin-alert-banner__icon"}),n(d,{node:i,className:m(["dropin-alert-banner__message"])})]}),c("div",{className:"dropin-alert-banner__actions",children:[e&&n(p,{variant:"tertiary",className:"dropin-alert-banner__action",onClick:e.onClick,"aria-label":e.label,children:e.label}),n(p,{icon:n(u,{source:E,size:"24",stroke:"2"}),className:"dropin-alert-banner__dismiss-button",variant:"primary",onClick:l,"aria-label":g.dismiss})]})]})},M=s=>{const[a,o]=h(!1);v(()=>{const e=b.on("error",r=>{(r==null?void 0:r.source)==="checkout"&&(r==null?void 0:r.type)==="network"&&o(!0)});return()=>{e==null||e.off()}},[]);const i=()=>{o(!1)},l=f({message:"Checkout.ErrorBanner.genericMessage",label:"Checkout.ErrorBanner.dismissLabel"});return a?n(k,{...s,"data-testid":"error-banner",icon:n(u,{source:w}),message:n("span",{children:l.message}),onDismiss:i,variant:"warning"}):null};export{M as E};
//# sourceMappingURL=ErrorBanner__BKKCpXVYQT.js.map
