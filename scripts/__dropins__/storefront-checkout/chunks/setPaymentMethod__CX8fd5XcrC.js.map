{"version":3,"file":"setPaymentMethod__CX8fd5XcrC.js","sources":["../../src/api/setPaymentMethod/graphql/setPaymentMethod.graphql.ts","../../src/api/setPaymentMethod/setPaymentMethod.ts"],"sourcesContent":["import {\n  CHECKOUT_DATA_FRAGMENT,\n  CART_SUMMARY_FRAGMENT,\n} from '@/checkout/api/getCheckoutData/graphql/getCheckoutData.graphql';\n\nexport const setPaymentMethodMutation = /* GraphQL */ `\n  mutation setPaymentMethod($cartId: String!, $paymentMethod: String!) {\n    setPaymentMethodOnCart(\n      input: { cart_id: $cartId, payment_method: { code: $paymentMethod } }\n    ) {\n      cart {\n        id\n        ...CheckoutData\n        ...CartSummaryItems\n      }\n    }\n  }\n  ${CHECKOUT_DATA_FRAGMENT}\n  ${CART_SUMMARY_FRAGMENT}\n`;\n","import { MissingCart, MissingPaymentMethod } from '@/checkout/api/errors';\nimport { setPaymentMethodMutation } from '@/checkout/api/setPaymentMethod/graphql/setPaymentMethod.graphql';\nimport { dispatchApiCall } from '@/checkout/api/utils/dispatchApiCall';\nimport { transformCart } from '@/checkout/data/transforms/index';\n\nexport const setPaymentMethod = async ({\n  cartId,\n  paymentMethod,\n}: {\n  cartId: string;\n  paymentMethod: string;\n}) => {\n  if (!cartId) throw new MissingCart();\n  if (!paymentMethod) throw new MissingPaymentMethod();\n\n  return await dispatchApiCall({\n    type: 'mutation',\n    query: setPaymentMethodMutation,\n    options: { variables: { cartId, paymentMethod } },\n    path: 'setPaymentMethodOnCart.cart',\n    signalType: 'cart',\n    transformer: transformCart,\n  });\n};\n"],"names":["setPaymentMethodMutation","CHECKOUT_DATA_FRAGMENT","CART_SUMMARY_FRAGMENT","setPaymentMethod","cartId","paymentMethod","MissingCart","MissingPaymentMethod","dispatchApiCall","type","query","options","variables","path","signalType","transformer","transformCart"],"mappings":";;;AAKaA,MAAAA;AAAAA;AAAAA,EAA0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYnDC,sBAAuB;AAAA,IACvBC,qBAAsB;AAAA;AAAA;ACbnB,MAAMC,mBAAmB,OAAO;AAAA,EACrCC;AAAAA,EACAC;AAIF,MAAM;AACJ,MAAI,CAACD;AAAQ,UAAM,IAAIE,YAAY;AACnC,MAAI,CAACD;AAAe,UAAM,IAAIE,qBAAqB;AAEnD,SAAO,MAAMC,gBAAgB;AAAA,IAC3BC,MAAM;AAAA,IACNC,OAAOV;AAAAA,IACPW,SAAS;AAAA,MAAEC,WAAW;AAAA,QAAER;AAAAA,QAAQC;AAAAA,MAAc;AAAA,IAAE;AAAA,IAChDQ,MAAM;AAAA,IACNC,YAAY;AAAA,IACZC,aAAaC;AAAAA,EAAAA,CACd;AACH;"}