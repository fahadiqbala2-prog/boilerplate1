{"version":3,"file":"render.js","sources":["../../ElsieSDK/node_modules/deepmerge/dist/cjs.js","../../ElsieSDK/node_modules/preact-render-to-string/dist/index.mjs","../../ElsieSDK/packages/elsie/src/lib/render.tsx","../src/lib/localStorage.ts","../src/services/backup.ts","../src/render/Provider.tsx","../src/render/render.tsx"],"sourcesContent":["'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","import{Fragment as e,options as t,h as r}from\"preact\";var n=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,o=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,i=/[\\s\\n\\\\/='\"\\0<>]/,l=/^xlink:?./,a=/[\"&<]/;function s(e){if(!1===a.test(e+=\"\"))return e;for(var t=0,r=0,n=\"\",o=\"\";r<e.length;r++){switch(e.charCodeAt(r)){case 34:o=\"&quot;\";break;case 38:o=\"&amp;\";break;case 60:o=\"&lt;\";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=o,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var f=function(e,t){return String(e).replace(/(\\n+)/g,\"$1\"+(t||\"\\t\"))},u=function(e,t,r){return String(e).length>(t||40)||!r&&-1!==String(e).indexOf(\"\\n\")||-1!==String(e).indexOf(\"<\")},c={},_=/([A-Z])/g;function p(e){var t=\"\";for(var r in e){var o=e[r];null!=o&&\"\"!==o&&(t&&(t+=\" \"),t+=\"-\"==r[0]?r:c[r]||(c[r]=r.replace(_,\"-$1\").toLowerCase()),t=\"number\"==typeof o&&!1===n.test(r)?t+\": \"+o+\"px;\":t+\": \"+o+\";\")}return t||void 0}function d(e,t){return Array.isArray(t)?t.reduce(d,e):null!=t&&!1!==t&&e.push(t),e}function v(){this.__d=!0}function h(e,t){return{__v:e,context:t,props:e.props,setState:v,forceUpdate:v,__d:!0,__h:[]}}function g(e,t){var r=e.contextType,n=r&&t[r.__c];return null!=r?n?n.props.value:r.__:t}var y=[];function m(r,n,a,c,_,v){if(null==r||\"boolean\"==typeof r)return\"\";if(\"object\"!=typeof r)return\"function\"==typeof r?\"\":s(r);var b=a.pretty,x=b&&\"string\"==typeof b?b:\"\\t\";if(Array.isArray(r)){for(var k=\"\",S=0;S<r.length;S++)b&&S>0&&(k+=\"\\n\"),k+=m(r[S],n,a,c,_,v);return k}if(void 0!==r.constructor)return\"\";var w,C=r.type,O=r.props,j=!1;if(\"function\"==typeof C){if(j=!0,!a.shallow||!c&&!1!==a.renderRootComponent){if(C===e){var A=[];return d(A,r.props.children),m(A,n,a,!1!==a.shallowHighOrder,_,v)}var F,H=r.__c=h(r,n);t.__b&&t.__b(r);var M=t.__r;if(C.prototype&&\"function\"==typeof C.prototype.render){var L=g(C,n);(H=r.__c=new C(O,L)).__v=r,H._dirty=H.__d=!0,H.props=O,null==H.state&&(H.state={}),null==H._nextState&&null==H.__s&&(H._nextState=H.__s=H.state),H.context=L,C.getDerivedStateFromProps?H.state=Object.assign({},H.state,C.getDerivedStateFromProps(H.props,H.state)):H.componentWillMount&&(H.componentWillMount(),H.state=H._nextState!==H.state?H._nextState:H.__s!==H.state?H.__s:H.state),M&&M(r),F=H.render(H.props,H.state,H.context)}else for(var T=g(C,n),E=0;H.__d&&E++<25;)H.__d=!1,M&&M(r),F=C.call(r.__c,O,T);return H.getChildContext&&(n=Object.assign({},n,H.getChildContext())),t.diffed&&t.diffed(r),m(F,n,a,!1!==a.shallowHighOrder,_,v)}C=(w=C).displayName||w!==Function&&w.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\\s*function\\s+([^( ]+)/)||\"\")[1];if(!t){for(var r=-1,n=y.length;n--;)if(y[n]===e){r=n;break}r<0&&(r=y.push(e)-1),t=\"UnnamedComponent\"+r}return t}(w)}var $,D,N=\"<\"+C;if(O){var P=Object.keys(O);a&&!0===a.sortAttributes&&P.sort();for(var W=0;W<P.length;W++){var I=P[W],R=O[I];if(\"children\"!==I){if(!i.test(I)&&(a&&a.allAttributes||\"key\"!==I&&\"ref\"!==I&&\"__self\"!==I&&\"__source\"!==I)){if(\"defaultValue\"===I)I=\"value\";else if(\"defaultChecked\"===I)I=\"checked\";else if(\"defaultSelected\"===I)I=\"selected\";else if(\"className\"===I){if(void 0!==O.class)continue;I=\"class\"}else _&&l.test(I)&&(I=I.toLowerCase().replace(/^xlink:?/,\"xlink:\"));if(\"htmlFor\"===I){if(O.for)continue;I=\"for\"}\"style\"===I&&R&&\"object\"==typeof R&&(R=p(R)),\"a\"===I[0]&&\"r\"===I[1]&&\"boolean\"==typeof R&&(R=String(R));var U=a.attributeHook&&a.attributeHook(I,R,n,a,j);if(U||\"\"===U)N+=U;else if(\"dangerouslySetInnerHTML\"===I)D=R&&R.__html;else if(\"textarea\"===C&&\"value\"===I)$=R;else if((R||0===R||\"\"===R)&&\"function\"!=typeof R){if(!(!0!==R&&\"\"!==R||(R=I,a&&a.xml))){N=N+\" \"+I;continue}if(\"value\"===I){if(\"select\"===C){v=R;continue}\"option\"===C&&v==R&&void 0===O.selected&&(N+=\" selected\")}N=N+\" \"+I+'=\"'+s(R)+'\"'}}}else $=R}}if(b){var V=N.replace(/\\n\\s*/,\" \");V===N||~V.indexOf(\"\\n\")?b&&~N.indexOf(\"\\n\")&&(N+=\"\\n\"):N=V}if(N+=\">\",i.test(C))throw new Error(C+\" is not a valid HTML tag name in \"+N);var q,z=o.test(C)||a.voidElements&&a.voidElements.test(C),Z=[];if(D)b&&u(D)&&(D=\"\\n\"+x+f(D,x)),N+=D;else if(null!=$&&d(q=[],$).length){for(var B=b&&~N.indexOf(\"\\n\"),G=!1,J=0;J<q.length;J++){var K=q[J];if(null!=K&&!1!==K){var Q=m(K,n,a,!0,\"svg\"===C||\"foreignObject\"!==C&&_,v);if(b&&!B&&u(Q)&&(B=!0),Q)if(b){var X=Q.length>0&&\"<\"!=Q[0];G&&X?Z[Z.length-1]+=Q:Z.push(Q),G=X}else Z.push(Q)}}if(b&&B)for(var Y=Z.length;Y--;)Z[Y]=\"\\n\"+x+f(Z[Y],x)}if(Z.length||D)N+=Z.join(\"\");else if(a&&a.xml)return N.substring(0,N.length-1)+\" />\";return!z||q||D?(b&&~N.indexOf(\"\\n\")&&(N+=\"\\n\"),N=N+\"</\"+C+\">\"):N=N.replace(/>$/,\" />\"),N}var b={shallow:!0};S.render=S;var x=function(e,t){return S(e,t,b)},k=[];function S(n,o,i){o=o||{};var l=t.__s;t.__s=!0;var a,s=r(e,null);return s.__k=[n],a=i&&(i.pretty||i.voidElements||i.sortAttributes||i.shallow||i.allAttributes||i.xml||i.attributeHook)?m(n,o,i):F(n,o,!1,void 0,s),t.__c&&t.__c(n,k),t.__s=l,k.length=0,a}function w(e){return null==e||\"boolean\"==typeof e?null:\"string\"==typeof e||\"number\"==typeof e||\"bigint\"==typeof e?r(null,null,e):e}function C(e,t){return\"className\"===e?\"class\":\"htmlFor\"===e?\"for\":\"defaultValue\"===e?\"value\":\"defaultChecked\"===e?\"checked\":\"defaultSelected\"===e?\"selected\":t&&l.test(e)?e.toLowerCase().replace(/^xlink:?/,\"xlink:\"):e}function O(e,t){return\"style\"===e&&null!=t&&\"object\"==typeof t?p(t):\"a\"===e[0]&&\"r\"===e[1]&&\"boolean\"==typeof t?String(t):t}var j=Array.isArray,A=Object.assign;function F(r,n,l,a,f){if(null==r||!0===r||!1===r||\"\"===r)return\"\";if(\"object\"!=typeof r)return\"function\"==typeof r?\"\":s(r);if(j(r)){var u=\"\";f.__k=r;for(var c=0;c<r.length;c++)u+=F(r[c],n,l,a,f),r[c]=w(r[c]);return u}if(void 0!==r.constructor)return\"\";r.__=f,t.__b&&t.__b(r);var _=r.type,p=r.props;if(\"function\"==typeof _){var d;if(_===e)d=p.children;else{d=_.prototype&&\"function\"==typeof _.prototype.render?function(e,r){var n=e.type,o=g(n,r),i=new n(e.props,o);e.__c=i,i.__v=e,i.__d=!0,i.props=e.props,null==i.state&&(i.state={}),null==i.__s&&(i.__s=i.state),i.context=o,n.getDerivedStateFromProps?i.state=A({},i.state,n.getDerivedStateFromProps(i.props,i.state)):i.componentWillMount&&(i.componentWillMount(),i.state=i.__s!==i.state?i.__s:i.state);var l=t.__r;return l&&l(e),i.render(i.props,i.state,i.context)}(r,n):function(e,r){var n,o=h(e,r),i=g(e.type,r);e.__c=o;for(var l=t.__r,a=0;o.__d&&a++<25;)o.__d=!1,l&&l(e),n=e.type.call(o,e.props,i);return n}(r,n);var v=r.__c;v.getChildContext&&(n=A({},n,v.getChildContext()))}var y=F(d=null!=d&&d.type===e&&null==d.key?d.props.children:d,n,l,a,r);return t.diffed&&t.diffed(r),r.__=void 0,t.unmount&&t.unmount(r),y}var m,b,x=\"<\";if(x+=_,p)for(var k in m=p.children,p){var S=p[k];if(!(\"key\"===k||\"ref\"===k||\"__self\"===k||\"__source\"===k||\"children\"===k||\"className\"===k&&\"class\"in p||\"htmlFor\"===k&&\"for\"in p||i.test(k)))if(S=O(k=C(k,l),S),\"dangerouslySetInnerHTML\"===k)b=S&&S.__html;else if(\"textarea\"===_&&\"value\"===k)m=S;else if((S||0===S||\"\"===S)&&\"function\"!=typeof S){if(!0===S||\"\"===S){S=k,x=x+\" \"+k;continue}if(\"value\"===k){if(\"select\"===_){a=S;continue}\"option\"!==_||a!=S||\"selected\"in p||(x+=\" selected\")}x=x+\" \"+k+'=\"'+s(S)+'\"'}}var H=x;if(x+=\">\",i.test(_))throw new Error(_+\" is not a valid HTML tag name in \"+x);var M=\"\",L=!1;if(b)M+=b,L=!0;else if(\"string\"==typeof m)M+=s(m),L=!0;else if(j(m)){r.__k=m;for(var T=0;T<m.length;T++){var E=m[T];if(m[T]=w(E),null!=E&&!1!==E){var $=F(E,n,\"svg\"===_||\"foreignObject\"!==_&&l,a,r);$&&(M+=$,L=!0)}}}else if(null!=m&&!1!==m&&!0!==m){r.__k=[w(m)];var D=F(m,n,\"svg\"===_||\"foreignObject\"!==_&&l,a,r);D&&(M+=D,L=!0)}if(t.diffed&&t.diffed(r),r.__=void 0,t.unmount&&t.unmount(r),L)x+=M;else if(o.test(_))return H+\" />\";return x+\"</\"+_+\">\"}S.shallowRender=x;export default S;export{S as render,S as renderToStaticMarkup,S as renderToString,x as shallowRender};\n//# sourceMappingURL=index.module.js.map\n","import { render, VNode } from 'preact';\nimport renderToString from 'preact-render-to-string';\nimport { Container, VComponent } from '@adobe/elsie/lib';\n\nexport class Render {\n  private _provider: VNode<any>;\n\n  constructor(provider: VNode<any>) {\n    this._provider = provider;\n  }\n\n  render<T>(Component: Container<T>, props: T) {\n    return async (rootElement: HTMLElement) => {\n      if (!Component) throw new Error('Component is not defined');\n      if (!rootElement) throw new Error('Root element is not defined');\n\n      const initialData = (await Component.getInitialData?.(props)) ?? {};\n\n      render(\n        <VComponent node={this._provider} {...this._provider.props}>\n          <Component {...props} initialData={initialData} />\n        </VComponent>,\n        rootElement\n      );\n    };\n  }\n\n  unmount(rootElement: HTMLElement) {\n    if (!rootElement) throw new Error('Root element is not defined');\n\n    render(null, rootElement);\n  }\n\n  async toString<T>(Component: Container<T>, props: T, options?: T) {\n    if (!Component) throw new Error('Component is not defined');\n\n    const initialData = (await Component.getInitialData?.(props)) ?? {};\n\n    return renderToString(\n      <VComponent node={this._provider} {...this._provider.props}>\n        <Component {...props} initialData={initialData} />\n      </VComponent>,\n      {},\n      { ...options }\n    );\n  }\n}\n","import { Repository } from '@/checkout/services/backup';\n\nexport class LocalStorage implements Repository {\n  isAvailable(): boolean {\n    return !!window.localStorage;\n  }\n\n  getKeys(): string[] {\n    if (!this.isAvailable()) return [];\n    return Object.keys(window.localStorage);\n  }\n\n  setItem(key: string, value: string): void {\n    if (!this.isAvailable()) return;\n    window.localStorage.setItem(key, value);\n  }\n\n  getItem(key: string): string | null {\n    if (!this.isAvailable()) return null;\n    return window.localStorage.getItem(key);\n  }\n\n  removeItem(key: string): void {\n    if (!this.isAvailable()) return;\n    window.localStorage.removeItem(key);\n  }\n}\n","export interface Repository {\n  getKeys(): string[];\n  getItem(key: string): string | null;\n  setItem(key: string, value: string): void;\n  removeItem(key: string): void;\n}\n\nexport class BackupService {\n  private namespace: string;\n  private repository: Repository;\n\n  constructor(namespace: string, repository: Repository) {\n    this.namespace = namespace;\n    this.repository = repository;\n  }\n\n  private namespaced(key: string): string {\n    return `${this.namespace}:${key}`;\n  }\n\n  public backup<T>(key: string, value: T): void {\n    return this.repository.setItem(this.namespaced(key), JSON.stringify(value));\n  }\n\n  public restore<T>(key: string): T | null {\n    const value = this.repository.getItem(this.namespaced(key));\n    if (!value) return null;\n    return JSON.parse(value);\n  }\n\n  public remove(key: string): void {\n    return this.repository.removeItem(this.namespaced(key));\n  }\n\n  public clear(): void {\n    this.repository\n      .getKeys()\n      .filter((key) => key.startsWith(this.namespace))\n      .forEach((key) => {\n        this.repository.removeItem(key);\n      });\n  }\n}\n","import {\n  CountriesProvider,\n  ServicesProvider,\n  StoreProvider,\n  AddressFormFieldsProvider,\n} from '@/checkout/context';\nimport { BackupService } from '@/checkout/services';\nimport { FunctionComponent } from 'preact';\nimport { Lang } from '@adobe/elsie/i18n';\nimport { LocalStorage } from '@/checkout/lib';\nimport { UIProvider } from '@adobe/elsie/components';\nimport { config } from '@/checkout/api';\nimport { events } from '@adobe/event-bus';\nimport { useEffect, useMemo, useState } from 'preact/hooks';\nimport { deepmerge } from '@adobe/elsie/lib/deepmerge';\n\nimport en_US from '../i18n/en_US.json';\n\n// Langs\nconst langDefinitions = {\n  default: en_US,\n};\n\ninterface IntlProviderProps {\n  children?: any;\n}\n\nexport const IntlProvider: FunctionComponent<IntlProviderProps> = ({\n  children,\n}) => {\n  const [locale, setLang] = useState<Lang>();\n\n  const userLangDefinitions = config.getConfig()?.langDefinitions;\n\n  useEffect(() => {\n    const localeEvent = events.on(\n      'locale',\n      (payload) => {\n        if (payload !== locale) setLang(payload as Lang);\n      },\n      { eager: true }\n    );\n    return () => {\n      localeEvent?.off();\n    };\n  }, [locale]);\n\n  // Merge language definitions with user language definitions\n  const definitions = deepmerge(langDefinitions, userLangDefinitions ?? {});\n\n  return (\n    <UIProvider lang={locale} langDefinitions={definitions}>\n      {children}\n    </UIProvider>\n  );\n};\n\nexport const DataProvider: FunctionComponent<IntlProviderProps> = ({\n  children,\n}) => {\n  const backupService = useMemo(() => {\n    return new BackupService('DROPIN__CHECKOUT', new LocalStorage());\n  }, []);\n\n  return (\n    <ServicesProvider services={{ backupService }}>\n      <StoreProvider>\n        <AddressFormFieldsProvider>\n          <CountriesProvider>{children}</CountriesProvider>\n        </AddressFormFieldsProvider>\n      </StoreProvider>\n    </ServicesProvider>\n  );\n};\n\nexport const Provider: FunctionComponent<IntlProviderProps> = ({\n  children,\n}) => {\n  return (\n    <DataProvider>\n      <IntlProvider>{children}</IntlProvider>\n    </DataProvider>\n  );\n};\n","if (process.env.NODE_ENV === 'development') {\n  // Must use require here as import statements are only allowed to exist at top-level.\n  require('preact/debug');\n}\n\nimport { Render } from '@adobe/elsie/lib';\nimport { Provider } from './Provider';\nexport { Provider };\nexport const render = new Render(<Provider />);\n"],"names":["isMergeableObject","options","_","n","o","a","c","v","b","x","k","S","w","C","O","j","e","A","F","t","r","i","l","s","f","u","p","d","y","m","Render","constructor","provider","_provider","render","Component","props","rootElement","Error","initialData","getInitialData","_jsx","VComponent","node","children","unmount","toString","renderToString","LocalStorage","isAvailable","window","localStorage","getKeys","Object","keys","setItem","key","value","getItem","removeItem","BackupService","namespace","repository","namespaced","backup","JSON","stringify","restore","parse","remove","clear","filter","startsWith","forEach","langDefinitions","default","en_US","IntlProvider","locale","setLang","useState","userLangDefinitions","config","getConfig","useEffect","localeEvent","events","on","payload","eager","off","definitions","deepmerge","UIProvider","lang","DataProvider","backupService","useMemo","ServicesProvider","services","StoreProvider","AddressFormFieldsProvider","CountriesProvider","Provider"],"mappings":"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","x_google_ignoreList":[0,1]}