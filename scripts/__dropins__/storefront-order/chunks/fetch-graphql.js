/*! Copyright 2025 Adobe
All Rights Reserved. */
import{events as h}from"@dropins/tools/event-bus.js";import{FetchGraphQL as s}from"@dropins/tools/fetch-graphql.js";const r={auth_dropin_user_token:"auth_dropin_user_token",auth_dropin_firstname:"auth_dropin_firstname"},n=t=>{document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`},p=t=>{const a=t.map(e=>e.message).join(" ");console.log("ORDER errors :>handleFetchError> ",t);const o=t.some(({extensions:e})=>(e==null?void 0:e.category)==="graphql-authorization");if(console.log("ORDER unauthorized :>> ",o),o){for(let e of Object.keys(r))n(r[e]);h.emit("authenticated",!1)}throw Error(a)},{setEndpoint:d,setFetchGraphQlHeader:l,removeFetchGraphQlHeader:u,setFetchGraphQlHeaders:m,fetchGraphQl:f,getConfig:_}=new s().getMethods();export{l as a,m as b,f,_ as g,p as h,u as r,d as s};
