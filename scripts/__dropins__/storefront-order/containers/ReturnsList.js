import{jsx as f}from"@dropins/tools/preact-jsx-runtime.js";import"@dropins/tools/components.js";import"../chunks/OrderCancel.js";import{classes as h}from"@dropins/tools/lib.js";import{useState as n,useEffect as I,useCallback as S}from"@dropins/tools/preact-hooks.js";import"@dropins/tools/event-bus.js";import{g as y}from"../chunks/getCustomerOrdersReturn.js";import"@dropins/tools/preact.js";import{u as A}from"../chunks/useIsMobile.js";import"@dropins/tools/preact-compat.js";import{R as M}from"../chunks/ReturnsListContent.js";import{useText as T}from"@dropins/tools/i18n.js";import"../chunks/network-error.js";import"../chunks/fetch-graphql.js";import"@dropins/tools/fetch-graphql.js";import"../chunks/transform-order-details.js";import"../chunks/convertCase.js";import"../chunks/returnOrdersHelper.js";import"../chunks/form.types.js";import"../chunks/OrderLoaders.js";const p={totalPages:1,currentPage:1,pageSize:1},V=({returnPageSize:t})=>{const[o,u]=n(!0),[i,a]=n([]),[m,s]=n(p),[d,l]=n(1);I(()=>{y(t).then(r=>{a((r==null?void 0:r.ordersReturn)??[]),s((r==null?void 0:r.pageInfo)??p)}).finally(()=>{u(!1)})},[t]);const c=S(r=>{l(r)},[]);return{pageInfo:m,selectedPage:d,loading:o,orderReturns:i,handleSetSelectPage:c}},Y=({slots:t,withReturnsListButton:o,className:u,minifiedView:i,withHeader:a,withThumbnails:m,returnPageSize:s,returnsInMinifiedView:d,routeReturnDetails:l,routeOrderDetails:c,routeTracking:r,routeReturnsList:L,routeProductDetails:g})=>{const{pageInfo:R,selectedPage:O,handleSetSelectPage:b,loading:w,orderReturns:N}=V({returnPageSize:s}),P=A(),e=i?"minifiedView":"fullSizeView",$=T({viewAllOrdersButton:`Order.Returns.${e}.returnsList.viewAllOrdersButton`,ariaLabelLink:`Order.Returns.${e}.returnsList.ariaLabelLink`,emptyOrdersListMessage:`Order.Returns.${e}.returnsList.emptyOrdersListMessage`,minifiedViewTitle:`Order.Returns.${e}.returnsList.minifiedViewTitle`,orderNumber:`Order.Returns.${e}.returnsList.orderNumber`,returnNumber:`Order.Returns.${e}.returnsList.returnNumber`,carrier:`Order.Returns.${e}.returnsList.carrier`});return f("div",{className:h(["order-returns-list",u]),children:f(M,{returnPageSize:s,minifiedViewKey:e,withOrderNumber:!0,withReturnNumber:!0,slots:t,selectedPage:O,handleSetSelectPage:b,pageInfo:R,withReturnsListButton:o,isMobile:P,orderReturns:N,translations:$,withHeader:a,returnsInMinifiedView:d,withThumbnails:m,minifiedView:i,routeReturnDetails:l,routeOrderDetails:c,routeTracking:r,routeReturnsList:L,routeProductDetails:g,loading:w})})};export{Y as default};
